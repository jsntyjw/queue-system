{"ast":null,"code":"var _jsxFileName = \"/Users/lowqilong/Desktop/FYP/queue-system/frontend/src/components/ServiceCounter.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport '../index.css';\nimport { Text, Button, Layout, Breadcrumb, BoxContainer, InputSelect, Modal } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\nimport { ModalContent } from \"../models/doc-elements\";\nimport BaseService from '../service/base.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n_c = StyledSection;\n\nclass ServiceCounter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: [],\n      _bookingId: \"\",\n      nric: \"\",\n      citizenName: \"\",\n      citizenNumber: \"\",\n      citizenEmail: \"\",\n      inputValue: \"\",\n      queueNumber: \"\",\n      showModal: false,\n      citizenSalutation: \"\",\n      generalType: \"\",\n      serviceName: \"\",\n      serviceProviderEmail: \"\",\n      serviceProviderName: \"\",\n      serviceStartDate: \"\",\n      serviceProviderPhone: \"\",\n      serviceStartTime: \"\",\n      serviceProviderLocation: \"\",\n      bookingStatus: \"\",\n      queueName: \"communityHealthQueue\",\n      elementNobodyInQueue: \"none\",\n      showCurrentCitizen: \"none\",\n      showDivHPBService: \"block\",\n      showDIVHospitalservice: \"none\",\n      agencySelection: \"HPB\",\n      serviceSelection: \"communityHealth\",\n      routingKey: \"sgh.doctor\",\n      showButtonNextNumber: \"block\",\n      showNextServiceHospitalDoctor: \"block\",\n      showNextServiceHospitalPharmacy: \"block\",\n      showNextServiceHospitalPayment: \"block\",\n      showNextServiceHPB: \"none\",\n      nextServiceSelection: \"\"\n    };\n    this.consumeQueue = this.consumeQueue.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    try {\n      var apiURL;\n      apiURL = process.env.REACT_APP_APPOINTMENT_API_ADDRESS + 'api/booking/location/Tampines';\n      fetch(apiURL).then(function (response) {\n        return response.json();\n      }).then(myJson => {\n        this.setState({\n          bookings: []\n        });\n        console.log(myJson);\n        myJson.data.forEach(element => {\n          if (element[\"bookingStatus\"] == this.state.serviceSelection + \"-Calling\") {\n            console.log(\"have\");\n            var eachBooking = new Booking(element[\"_id\"], element[\"nric\"], element[\"citizenName\"], element[\"citizenSalutation\"], element[\"citizenEmail\"], element[\"citizenNumber\"], element[\"generalType\"], element[\"serviceName\"], element[\"serviceProviderName\"], element[\"serviceProviderEmail\"], element[\"serviceProviderPhone\"], element[\"serviceStartDate\"], element[\"serviceStartTime\"], element[\"serviceProviderLocation\"], element[\"bookingStatus\"], element[\"queueNumber\"]);\n            this.state.bookings.push(eachBooking);\n          }\n\n          this.setState({\n            bookings: this.state.bookings\n          });\n\n          if (this.state.bookings.length > 0) {\n            var _this$state$bookings$;\n\n            console.log(\"hello testing here\");\n            this.setState({\n              showCurrentCitizen: \"block\",\n              showButtonNextNumber: \"none\",\n              nric: this.state.bookings[0].Nric,\n              citizenName: this.state.bookings[0].CitizenName,\n              citizenNumber: this.state.bookings[0].CitizenNumber,\n              citizenEmail: this.state.bookings[0].CitizenEmail,\n              citizenSalutation: this.state.bookings[0].CitizenSalutation,\n              _bookingId: ((_this$state$bookings$ = this.state.bookings[0].Id) === null || _this$state$bookings$ === void 0 ? void 0 : _this$state$bookings$.toString()) || '',\n              generalType: this.state.bookings[0].GeneralType,\n              serviceName: this.state.bookings[0].ServiceName,\n              serviceProviderName: this.state.bookings[0].ServiceProviderName,\n              serviceProviderEmail: this.state.bookings[0].ServiceProviderEmail,\n              serviceProviderPhone: this.state.bookings[0].ServiceProviderPhone,\n              serviceStartDate: this.state.bookings[0].ServiceStartDate,\n              serviceStartTime: this.state.bookings[0].ServiceStartTime,\n              serviceProviderLocation: this.state.bookings[0].ServiceProviderLocation,\n              bookingStatus: this.state.bookings[0].BookingStatus,\n              queueNumber: this.state.bookings[0].QueueNumber\n            });\n            console.log(\"testing here!!! : \" + this.state.bookings[0].Id);\n\n            if (this.state.agencySelection == \"HPB\") {\n              this.setState({\n                showNextServiceHospitalDoctor: \"none\",\n                showNextServiceHospitalPharmacy: \"none\",\n                showNextServiceHospitalPayment: \"none\",\n                showNextServiceHPB: \"block\"\n              });\n            } else {\n              this.setState({\n                showNextServiceHospitalDoctor: \"none\",\n                showNextServiceHospitalPharmacy: \"none\",\n                showNextServiceHospitalPayment: \"none\",\n                showNextServiceHPB: \"none\"\n              });\n\n              if (this.state.serviceSelection == \"Doctor\") {\n                this.setState({\n                  showNextServiceHospitalDoctor: \"block\",\n                  showNextServiceHospitalPharmacy: \"none\",\n                  showNextServiceHospitalPayment: \"none\",\n                  showNextServiceHPB: \"none\"\n                });\n              } else if (this.state.serviceSelection == \"Payment\") {\n                this.setState({\n                  showNextServiceHospitalDoctor: \"none\",\n                  showNextServiceHospitalPharmacy: \"none\",\n                  showNextServiceHospitalPayment: \"block\",\n                  showNextServiceHPB: \"none\"\n                });\n              } else {\n                this.setState({\n                  showNextServiceHospitalDoctor: \"none\",\n                  showNextServiceHospitalPharmacy: \"block\",\n                  showNextServiceHospitalPayment: \"none\",\n                  showNextServiceHPB: \"none\"\n                });\n              }\n            }\n          } else {\n            this.setState({\n              showCurrentCitizen: \"none\",\n              showButtonNextNumber: \"block\"\n            });\n          }\n        });\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(StyledSection, {\n      children: [/*#__PURE__*/_jsxDEV(Modal.Base, {\n        show: this.state.showModal,\n        animationFrom: \"bottom\",\n        enableOverlayClick: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Box, {\n          onClose: () => {\n            this.setState({\n              showModal: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(ModalContent, {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Send to queue succesfully\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Layout.Container, {\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n          links: [{\n            title: 'Home',\n            url: 'http://localhost:3000/ServiceCounter'\n          }, {\n            title: 'Service Counter'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), \"Agency:\", /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"divAgency\",\n          className: \"inlinecontent\",\n          style: {\n            justifyItems: \"start\"\n          },\n          children: /*#__PURE__*/_jsxDEV(InputSelect, {\n            options: [{\n              value: \"HPB\",\n              label: \"HPB\"\n            }, {\n              value: \"Hospital\",\n              label: \"Hospital\"\n            }],\n            valueExtractor: item => item.value,\n            listExtractor: item => item.label,\n            displayValueExtractor: item => item.label,\n            placeholder: this.state.agencySelection,\n            onSelectItem: (item, selectedValue) => {\n              this.setState({\n                inputValue: selectedValue\n              }, () => {\n                this.ddlAgency(selectedValue);\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), \"Service:\", /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"divHPBService\",\n          className: \"inlinecontent\",\n          style: {\n            justifyItems: \"start\",\n            display: this.state.showDivHPBService\n          },\n          children: /*#__PURE__*/_jsxDEV(InputSelect, {\n            options: [{\n              value: \"communityHealth\",\n              label: \"communityHealth\"\n            }, {\n              value: \"workplaceHealth\",\n              label: \"workplaceHealth\"\n            }],\n            valueExtractor: item => item.value,\n            listExtractor: item => item.label,\n            displayValueExtractor: item => item.label,\n            placeholder: this.state.serviceSelection,\n            onSelectItem: (item, selectedValue) => {\n              this.setState({\n                inputValue: selectedValue\n              }, () => {\n                this.ddlService(selectedValue);\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"divHospitalService\",\n          className: \"inlinecontent\",\n          style: {\n            justifyItems: \"start\",\n            display: this.state.showDIVHospitalservice\n          },\n          children: /*#__PURE__*/_jsxDEV(InputSelect, {\n            options: [{\n              value: \"Doctor\",\n              label: \"Doctor\"\n            }, {\n              value: \"Payment\",\n              label: \"Payment\"\n            }, {\n              value: \"Pharmacy\",\n              label: \"Pharmacy\"\n            }],\n            valueExtractor: item => item.value,\n            listExtractor: item => item.label,\n            displayValueExtractor: item => item.label,\n            placeholder: this.state.serviceSelection,\n            onSelectItem: (item, selectedValue) => {\n              this.setState({\n                inputValue: selectedValue\n              }, () => {\n                this.ddlService(selectedValue);\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), \"Your are selecting agency: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [this.state.agencySelection, \",\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 48\n        }, this), \" and service as \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: this.state.serviceSelection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 100\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"divButtonNextPatient\",\n          style: {\n            display: this.state.showButtonNextNumber\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button.Default, {\n            className: \"buttonsuccess\",\n            onClick: () => this.consumeQueue(this.handle200, \"nextPatient\"),\n            children: \"Next Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              'color': \"green\",\n              'fontSize': 30,\n              'display': this.state.elementNobodyInQueue\n            },\n            children: \"There is no one in the queue\\uD83D\\uDE04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"divCurrentCitizen\",\n          style: {\n            display: this.state.showCurrentCitizen\n          },\n          children: [/*#__PURE__*/_jsxDEV(Layout.GridContainer, {\n            className: \"column2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spacer1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Text.H3, {\n                children: \"Currently Serving\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(BoxContainer, {\n                title: \"Citizen Information\",\n                collapsible: false,\n                className: \"textleft\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"servicecountergrid\",\n                  children: /*#__PURE__*/_jsxDEV(Layout.GridContainer, {\n                    className: \"column4\",\n                    children: [/*#__PURE__*/_jsxDEV(Text.Body, {\n                      weight: \"semibold\",\n                      children: \"NRIC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      weight: \"semibold\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      weight: \"semibold\",\n                      children: \"Phone Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      weight: \"semibold\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      children: this.state.nric\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      children: this.state.citizenName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      children: this.state.citizenNumber\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                      children: this.state.citizenEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Text.Body, {\n                children: \"Next service: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: this.state.showNextServiceHPB\n            },\n            children: /*#__PURE__*/_jsxDEV(InputSelect, {\n              placeholder: \"Select\",\n              options: [{\n                value: \"Doctor\",\n                label: \"Doctor\"\n              }, {\n                value: \"Missed Queue\",\n                label: \"Missed Queue\"\n              }],\n              valueExtractor: item => item.value,\n              listExtractor: item => item.label,\n              displayValueExtractor: item => item.label,\n              onSelectItem: (item, selectedValue) => {\n                if (selectedValue != \"Missed Queue\") {\n                  this.setState({\n                    routingKey: \"sgh.doctor\"\n                  });\n                }\n\n                this.setState({\n                  nextServiceSelection: selectedValue\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: this.state.showNextServiceHospitalDoctor\n            },\n            children: /*#__PURE__*/_jsxDEV(InputSelect, {\n              placeholder: \"Select\",\n              options: [{\n                value: \"Payment\",\n                label: \"Payment\"\n              }, {\n                value: \"Pharmacy\",\n                label: \"Pharmacy\"\n              }, {\n                value: \"Missed Queue\",\n                label: \"Missed Queue\"\n              }],\n              valueExtractor: item => item.value,\n              listExtractor: item => item.label,\n              displayValueExtractor: item => item.label,\n              onSelectItem: (item, selectedValue) => {\n                if (selectedValue == \"Payment\") {\n                  this.setState({\n                    routingKey: \"sgh.payment\"\n                  });\n                } else if (selectedValue == \"Pharmacy\") {\n                  this.setState({\n                    routingKey: \"sgh.pharmacy\"\n                  });\n                } else {}\n\n                this.setState({\n                  nextServiceSelection: selectedValue\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: this.state.showNextServiceHospitalPayment\n            },\n            children: /*#__PURE__*/_jsxDEV(InputSelect, {\n              placeholder: \"Select\",\n              options: [{\n                value: \"Pharmacy\",\n                label: \"Pharmacy\"\n              }, {\n                value: \"Missed Queue\",\n                label: \"Missed Queue\"\n              }],\n              valueExtractor: item => item.value,\n              listExtractor: item => item.label,\n              displayValueExtractor: item => item.label,\n              onSelectItem: (item, selectedValue) => {\n                if (selectedValue == \"Pharmacy\") {\n                  this.setState({\n                    routingKey: \"sgh.pharmacy\"\n                  });\n                } else {}\n\n                this.setState({\n                  nextServiceSelection: selectedValue\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: this.state.showNextServiceHospitalPharmacy\n            },\n            children: /*#__PURE__*/_jsxDEV(InputSelect, {\n              placeholder: \"Select\",\n              options: [{\n                value: \"Completed\",\n                label: \"Completed\"\n              }, {\n                value: \"Missed Queue\",\n                label: \"Missed Queue\"\n              }],\n              valueExtractor: item => item.value,\n              listExtractor: item => item.label,\n              displayValueExtractor: item => item.label,\n              onSelectItem: (item, selectedValue) => {\n                if (selectedValue == \"Missed Queue\") {} else {}\n\n                this.setState({\n                  nextServiceSelection: selectedValue\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spacer1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button.Default, {\n            onClick: () => this.consumeQueue(this.handle200, \"sendtoNextService\", this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.generalType, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber),\n            style: {\n              marginBottom: \"50px\"\n            },\n            children: \"Send to next service\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this);\n  }\n\n  ddlAgency(selectedValue) {\n    if (selectedValue == \"HPB\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"block\",\n        showDIVHospitalservice: \"none\",\n        agencySelection: \"HPB\",\n        serviceSelection: \"communityHealth\"\n      });\n      this.loadData();\n    } else {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"none\",\n        showDIVHospitalservice: \"block\",\n        agencySelection: \"Hospital\",\n        serviceSelection: \"Doctor\"\n      });\n      this.loadData();\n    }\n  }\n\n  ddlService(selectedValue) {\n    if (selectedValue == \"communityHealth\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"block\",\n        showDIVHospitalservice: \"none\",\n        serviceSelection: \"communityHealth\",\n        queueName: \"communityHealthQueue\"\n      });\n      this.loadData();\n    } else if (selectedValue == \"workplaceHealth\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"block\",\n        showDIVHospitalservice: \"none\",\n        serviceSelection: \"workplaceHealth\",\n        queueName: \"workplaceHealthQueue\"\n      });\n      this.loadData();\n    } else if (selectedValue == \"Doctor\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"none\",\n        showDIVHospitalservice: \"block\",\n        serviceSelection: \"Doctor\",\n        queueName: \"doctorQueue\"\n      });\n      this.loadData();\n    } else if (selectedValue == \"Payment\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"none\",\n        showDIVHospitalservice: \"block\",\n        serviceSelection: \"Payment\",\n        queueName: \"paymentQueue\"\n      });\n      this.loadData();\n    } else if (selectedValue == \"Pharmacy\") {\n      this.setState({\n        showCurrentCitizen: \"none\",\n        showDivHPBService: \"none\",\n        showDIVHospitalservice: \"block\",\n        serviceSelection: \"Pharmacy\",\n        queueName: \"pharmacyQueue\"\n      });\n      this.loadData();\n    }\n  }\n\n  handle200(response) {\n    console.log('handle200 has received:', response);\n  }\n\n  consumeQueue(callback, buttonSelected, bookingId, nric, citizenName, citizenSalutation, citizenEmail, citizenNumber, generalType, serviceName, serviceProviderName, serviceProviderEmail, serviceProviderPhone, serviceStartDate, serviceStartTime, serviceProviderLocation, bookingStatus, queueNumber) {\n    var respectiveURL = \"\";\n\n    if (buttonSelected == \"nextPatient\") {\n      respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=\" + this.state.queueName;\n      console.log(respectiveURL);\n    }\n\n    if (buttonSelected == \"sendtoNextService\") {\n      const queueObject = {\n        \"_id\": bookingId,\n        \"nric\": nric,\n        \"citizenName\": citizenName,\n        \"citizenSalutation\": citizenSalutation,\n        \"citizenEmail\": citizenEmail,\n        \"citizenNumber\": citizenNumber,\n        \"generalType\": generalType,\n        \"serviceName\": serviceName,\n        \"serviceProviderName\": serviceProviderName,\n        \"serviceProviderEmail\": serviceProviderEmail,\n        \"serviceProviderPhone\": serviceProviderPhone,\n        \"serviceStartDate\": serviceStartDate,\n        \"serviceStartTime\": serviceStartTime,\n        \"serviceProviderLocation\": serviceProviderLocation,\n        \"bookingStatus\": bookingStatus,\n        \"queueNumber\": queueNumber\n      };\n      console.log(queueObject);\n      var myJSON = encodeURI(JSON.stringify(queueObject));\n      respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId.toString() + \"&exchangeID=master&bindingKey=\" + this.state.routingKey + \"&bookingDetails=\" + myJSON;\n      console.log(\"testing payment: \" + respectiveURL);\n    }\n\n    const xhr = new XMLHttpRequest(),\n          method = \"GET\",\n          url = respectiveURL; // initialize a new GET request\n\n    xhr.open(method, url, true); // respond to every readyState change\n\n    xhr.onreadystatechange = () => {\n      // ignore all readyStates other than \"DONE\"\n      if (xhr.readyState !== XMLHttpRequest.DONE) {\n        return;\n      } // call the callback with status\n\n\n      if (xhr.status === 200) {\n        console.log(xhr.responseText);\n\n        if (xhr.responseText == \"there is no one in the queue\") {\n          this.setState({\n            elementNobodyInQueue: \"block\"\n          });\n          return;\n        }\n\n        var calledBooking;\n\n        if (buttonSelected == \"nextPatient\") {\n          this.setState({\n            _bookingId: JSON.parse(xhr.responseText).Id,\n            nric: JSON.parse(xhr.responseText).Nric,\n            citizenName: JSON.parse(xhr.responseText).CitizenName,\n            citizenEmail: JSON.parse(xhr.responseText).CitizenEmail,\n            citizenNumber: JSON.parse(xhr.responseText).CitizenNumber,\n            citizenSalutation: JSON.parse(xhr.responseText).CitizenSalutation,\n            generalType: JSON.parse(xhr.responseText).GeneralType,\n            serviceName: JSON.parse(xhr.responseText).ServiceName,\n            serviceProviderEmail: JSON.parse(xhr.responseText).ServiceProviderEmail,\n            serviceProviderName: JSON.parse(xhr.responseText).ServiceProviderName,\n            serviceStartDate: JSON.parse(xhr.responseText).ServiceStartDate,\n            serviceProviderPhone: JSON.parse(xhr.responseText).ServiceProviderPhone,\n            serviceStartTime: JSON.parse(xhr.responseText).ServiceStartTime,\n            serviceProviderLocation: JSON.parse(xhr.responseText).ServiceProviderLocation,\n            bookingStatus: JSON.parse(xhr.responseText).BookingStatus,\n            queueNumber: JSON.parse(xhr.responseText).QueueNumber,\n            elementNobodyInQueue: \"none\",\n            showCurrentCitizen: \"block\"\n          });\n\n          if (this.state.agencySelection == \"HPB\") {\n            this.setState({\n              showNextServiceHospitalDoctor: \"none\",\n              showNextServiceHospitalPharmacy: \"none\",\n              showNextServiceHospitalPayment: \"none\",\n              showNextServiceHPB: \"block\"\n            });\n          } else {\n            this.setState({\n              showNextServiceHospitalDoctor: \"none\",\n              showNextServiceHospitalPharmacy: \"none\",\n              showNextServiceHospitalPayment: \"none\",\n              showNextServiceHPB: \"none\"\n            });\n\n            if (this.state.serviceSelection == \"Doctor\") {\n              this.setState({\n                showNextServiceHospitalDoctor: \"block\",\n                showNextServiceHospitalPharmacy: \"none\",\n                showNextServiceHospitalPayment: \"none\",\n                showNextServiceHPB: \"none\"\n              });\n            } else if (this.state.serviceSelection == \"Payment\") {\n              this.setState({\n                showNextServiceHospitalDoctor: \"none\",\n                showNextServiceHospitalPharmacy: \"none\",\n                showNextServiceHospitalPayment: \"block\",\n                showNextServiceHPB: \"none\"\n              });\n            } else {\n              this.setState({\n                showNextServiceHospitalDoctor: \"none\",\n                showNextServiceHospitalPharmacy: \"block\",\n                showNextServiceHospitalPayment: \"none\",\n                showNextServiceHPB: \"none\"\n              });\n            }\n          }\n\n          calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.generalType, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n          document.getElementById(\"divCurrentCitizen\").style.display = \"block\";\n          document.getElementById(\"divButtonNextPatient\").style.display = \"none\";\n          calledBooking.BookingStatus = this.state.serviceSelection + \"-Calling\";\n          console.log(\"called booking: \" + calledBooking);\n          BaseService.update(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/update/\", this.state._bookingId, calledBooking).then(rp => {\n            if (rp.Status) {\n              console.log('Booking saved.');\n            } else {\n              console.log(rp.Messages);\n              console.log(\"Messages: \" + rp.Messages);\n              console.log(\"Exception: \" + rp.Exception);\n            }\n          });\n        }\n\n        if (buttonSelected == \"sendtoNextService\") {\n          this.setState({\n            showModal: true\n          });\n          calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.generalType, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n          document.getElementById(\"divCurrentCitizen\").style.display = \"none\";\n          document.getElementById(\"divButtonNextPatient\").style.display = \"block\"; // console.log(this.state)\n\n          if (this.state.nextServiceSelection == \"Missed Queue\") {\n            //     this.getQueue(calledBooking.Id!!, this.state.serviceSelection + \"-Missed\", true);\n            calledBooking.BookingStatus = this.state.serviceSelection + \"-Missed\";\n          } else if (this.state.nextServiceSelection == \"Completed\") {\n            calledBooking.BookingStatus = \"Completed\";\n          } else if (this.state.nextServiceSelection != this.state.serviceSelection && this.state.nextServiceSelection != \"Missed Queue\" && this.state.nextServiceSelection != \"Completed\") {\n            //     this.getQueue(calledBooking.Id!!, this.state.serviceSelection + \"-Queued\", false);\n            calledBooking.BookingStatus = this.state.nextServiceSelection + \"-Queued\";\n          } else {\n            calledBooking.BookingStatus = this.state.serviceSelection + \"-Calling\";\n          }\n\n          console.log(calledBooking);\n          BaseService.update(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/update/\", this.state._bookingId, calledBooking).then(rp => {\n            if (rp.Status) {\n              console.log('Booking saved.');\n            } else {\n              console.log(rp.Messages);\n              console.log(\"Messages: \" + rp.Messages);\n              console.log(\"Exception: \" + rp.Exception);\n            }\n          });\n        } // console.log(JSON.parse(xhr.responseText));\n\n\n        return callback(xhr.status);\n      } // got something other than 200,\n      // re-initialize and send another GET request\n\n\n      xhr.open(method, url, true);\n      xhr.send();\n    }; // send the initial GET request\n\n\n    xhr.send();\n  }\n\n}\n\nexport default ServiceCounter;\n\nvar _c;\n\n$RefreshReg$(_c, \"StyledSection\");","map":{"version":3,"sources":["/Users/lowqilong/Desktop/FYP/queue-system/frontend/src/components/ServiceCounter.tsx"],"names":["React","Text","Button","Layout","Breadcrumb","BoxContainer","InputSelect","Modal","styled","Booking","ModalContent","BaseService","StyledSection","Section","ServiceCounter","Component","constructor","props","state","bookings","_bookingId","nric","citizenName","citizenNumber","citizenEmail","inputValue","queueNumber","showModal","citizenSalutation","generalType","serviceName","serviceProviderEmail","serviceProviderName","serviceStartDate","serviceProviderPhone","serviceStartTime","serviceProviderLocation","bookingStatus","queueName","elementNobodyInQueue","showCurrentCitizen","showDivHPBService","showDIVHospitalservice","agencySelection","serviceSelection","routingKey","showButtonNextNumber","showNextServiceHospitalDoctor","showNextServiceHospitalPharmacy","showNextServiceHospitalPayment","showNextServiceHPB","nextServiceSelection","consumeQueue","bind","componentDidMount","loadData","apiURL","process","env","REACT_APP_APPOINTMENT_API_ADDRESS","fetch","then","response","json","myJson","setState","console","log","data","forEach","element","eachBooking","push","length","Nric","CitizenName","CitizenNumber","CitizenEmail","CitizenSalutation","Id","toString","GeneralType","ServiceName","ServiceProviderName","ServiceProviderEmail","ServiceProviderPhone","ServiceStartDate","ServiceStartTime","ServiceProviderLocation","BookingStatus","QueueNumber","e","render","title","url","justifyItems","value","label","item","selectedValue","ddlAgency","display","ddlService","handle200","marginBottom","callback","buttonSelected","bookingId","respectiveURL","queueObject","myJSON","encodeURI","JSON","stringify","xhr","XMLHttpRequest","method","open","onreadystatechange","readyState","DONE","status","responseText","calledBooking","parse","document","getElementById","style","update","rp","Status","Messages","Exception","send"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport '../index.css';\nimport {\n    Text,\n    Button,\n    Layout,\n    Breadcrumb,\n    BoxContainer,\n    InputSelect,\n    Modal\n} from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\n\nimport Booking from \"../models/booking\";\n\n\nimport { ModalContent } from \"../models/doc-elements\";\nimport BaseService from '../service/base.service';\n\n\n\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\n\ninterface MyState {\n    bookings: Booking[],\n    _bookingId: string,\n    nric: string,\n    citizenName: string,\n    citizenNumber: string,\n    citizenEmail: string,\n    inputValue: string,\n    queueNumber: string,\n    showModal: boolean,\n    citizenSalutation: string,\n    generalType: string,\n    serviceName: string,\n    serviceProviderEmail: string,\n    serviceProviderName: string,\n    serviceStartDate: string,\n    serviceProviderPhone: string,\n    serviceStartTime: string,\n    serviceProviderLocation: string,\n    bookingStatus: string,\n    queueName: string,\n    elementNobodyInQueue: string,\n    showCurrentCitizen: string,\n    showDivHPBService: string,\n    showDIVHospitalservice: string,\n    agencySelection: string,\n    serviceSelection: string,\n    routingKey: string,\n    showButtonNextNumber: string,\n    showNextServiceHospitalDoctor: string,\n    showNextServiceHospitalPharmacy: string,\n    showNextServiceHospitalPayment: string,\n    showNextServiceHPB: string,\n    nextServiceSelection: string,\n\n}\n\n\n\nclass ServiceCounter extends React.Component<{}, MyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: [],\n            _bookingId: \"\",\n            nric: \"\",\n            citizenName: \"\",\n            citizenNumber: \"\",\n            citizenEmail: \"\",\n            inputValue: \"\",\n            queueNumber: \"\",\n            showModal: false,\n            citizenSalutation: \"\",\n            generalType: \"\",\n            serviceName: \"\",\n            serviceProviderEmail: \"\",\n            serviceProviderName: \"\",\n            serviceStartDate: \"\",\n            serviceProviderPhone: \"\",\n            serviceStartTime: \"\",\n            serviceProviderLocation: \"\",\n            bookingStatus: \"\",\n            queueName: \"communityHealthQueue\",\n            elementNobodyInQueue: \"none\",\n            showCurrentCitizen: \"none\",\n            showDivHPBService: \"block\",\n            showDIVHospitalservice: \"none\",\n            agencySelection: \"HPB\",\n            serviceSelection: \"communityHealth\",\n            routingKey: \"sgh.doctor\",\n            showButtonNextNumber: \"block\",\n            showNextServiceHospitalDoctor: \"block\",\n            showNextServiceHospitalPharmacy: \"block\",\n            showNextServiceHospitalPayment: \"block\",\n            showNextServiceHPB: \"none\",\n            nextServiceSelection: \"\",\n        };\n\n        this.consumeQueue = this.consumeQueue.bind(this)\n\n    }\n\n    componentDidMount() {\n        this.loadData();\n\n    }\n\n    async loadData() {\n        try {\n\n            var apiURL: string\n            apiURL = process.env.REACT_APP_APPOINTMENT_API_ADDRESS + 'api/booking/location/Tampines';\n\n            fetch(apiURL)\n                .then(function (response) {\n\n                    return response.json();\n                })\n                .then((myJson) => {\n                    this.setState({\n                        bookings: []\n                    })\n                    console.log(myJson)\n                    myJson.data.forEach(element => {\n\n                        if (element[\"bookingStatus\"] == this.state.serviceSelection + \"-Calling\") {\n                            console.log(\"have\")\n                            var eachBooking = new Booking(\n                                element[\"_id\"],\n                                element[\"nric\"],\n                                element[\"citizenName\"],\n                                element[\"citizenSalutation\"],\n                                element[\"citizenEmail\"],\n                                element[\"citizenNumber\"],\n                                element[\"generalType\"],\n                                element[\"serviceName\"],\n                                element[\"serviceProviderName\"],\n                                element[\"serviceProviderEmail\"],\n                                element[\"serviceProviderPhone\"],\n                                element[\"serviceStartDate\"],\n                                element[\"serviceStartTime\"],\n                                element[\"serviceProviderLocation\"],\n                                element[\"bookingStatus\"],\n                                element[\"queueNumber\"]\n                            );\n\n                            this.state.bookings.push(eachBooking)\n\n                        }\n\n                        this.setState({\n                            bookings: this.state.bookings,\n                        });\n\n                        if (this.state.bookings.length > 0) {\n\n                            console.log(\"hello testing here\")\n                            this.setState({\n                                showCurrentCitizen: \"block\",\n                                showButtonNextNumber: \"none\",\n\n                                nric: this.state.bookings[0].Nric,\n                                citizenName: this.state.bookings[0].CitizenName,\n                                citizenNumber: this.state.bookings[0].CitizenNumber,\n                                citizenEmail: this.state.bookings[0].CitizenEmail,\n                                citizenSalutation: this.state.bookings[0].CitizenSalutation,\n                                _bookingId: this.state.bookings[0].Id?.toString() || '',\n                                generalType: this.state.bookings[0].GeneralType,\n                                serviceName: this.state.bookings[0].ServiceName,\n                                serviceProviderName: this.state.bookings[0].ServiceProviderName,\n                                serviceProviderEmail: this.state.bookings[0].ServiceProviderEmail,\n                                serviceProviderPhone: this.state.bookings[0].ServiceProviderPhone,\n                                serviceStartDate: this.state.bookings[0].ServiceStartDate,\n                                serviceStartTime: this.state.bookings[0].ServiceStartTime,\n                                serviceProviderLocation: this.state.bookings[0].ServiceProviderLocation,\n                                bookingStatus: this.state.bookings[0].BookingStatus,\n                                queueNumber: this.state.bookings[0].QueueNumber\n                            })\n\n                            console.log(\"testing here!!! : \" + this.state.bookings[0].Id)\n\n\n                            if (this.state.agencySelection == \"HPB\") {\n                                this.setState({\n                                    showNextServiceHospitalDoctor: \"none\",\n                                    showNextServiceHospitalPharmacy: \"none\",\n                                    showNextServiceHospitalPayment: \"none\",\n                                    showNextServiceHPB: \"block\"\n                                })\n                            }\n                            else {\n                                this.setState({\n                                    showNextServiceHospitalDoctor: \"none\",\n                                    showNextServiceHospitalPharmacy: \"none\",\n                                    showNextServiceHospitalPayment: \"none\",\n                                    showNextServiceHPB: \"none\"\n                                })\n\n                                if(this.state.serviceSelection == \"Doctor\"){\n                                    this.setState({\n                                        showNextServiceHospitalDoctor: \"block\",\n                                        showNextServiceHospitalPharmacy: \"none\",\n                                        showNextServiceHospitalPayment: \"none\",\n                                        showNextServiceHPB: \"none\"\n                                    })\n                                }\n\n                                else if(this.state.serviceSelection == \"Payment\"){\n                                    this.setState({\n                                        showNextServiceHospitalDoctor: \"none\",\n                                        showNextServiceHospitalPharmacy: \"none\",\n                                        showNextServiceHospitalPayment: \"block\",\n                                        showNextServiceHPB: \"none\"\n                                    })\n                                }\n\n                                else{\n                                    this.setState({\n                                        showNextServiceHospitalDoctor: \"none\",\n                                        showNextServiceHospitalPharmacy: \"block\",\n                                        showNextServiceHospitalPayment: \"none\",\n                                        showNextServiceHPB: \"none\"\n                                    })\n                                }\n                            }\n                        }\n                        else {\n                            this.setState({\n                                showCurrentCitizen: \"none\",\n                                showButtonNextNumber: \"block\",\n                            })\n                        }\n                    });\n                });\n\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    render() {\n        return (\n            <StyledSection>\n\n                <Modal.Base\n                    show={this.state.showModal}\n                    animationFrom=\"bottom\"\n                    enableOverlayClick={true}\n                >\n                    <Modal.Box onClose={() => {\n                        this.setState({\n                            showModal: false\n                        });\n                    }}>\n                        <ModalContent>\n                            <span>Send to queue succesfully</span>\n                        </ModalContent>\n                    </Modal.Box>\n                </Modal.Base>\n                <Layout.Container>\n\n\n                    <Breadcrumb links={[{ title: 'Home', url: 'http://localhost:3000/ServiceCounter' }, { title: 'Service Counter' }]} />\n\n                    Agency:\n                    <div id='divAgency' className=\"inlinecontent\" style={{ justifyItems: \"start\" }}>\n                        <InputSelect\n                            options={[\n                                { value: \"HPB\", label: \"HPB\" },\n                                { value: \"Hospital\", label: \"Hospital\" },\n\n                            ]}\n\n                            valueExtractor={(item) => item.value}\n                            listExtractor={(item) => item.label}\n\n                            displayValueExtractor={(item) => item.label}\n                            placeholder={this.state.agencySelection}\n                            onSelectItem={(item, selectedValue) => {\n                                this.setState({ inputValue: selectedValue }, () => {\n                                    this.ddlAgency(selectedValue)\n\n                                });\n                            }} />\n\n                    </div>\n\n\n\n                    <br />\n\n                    Service:\n\n                    <div id='divHPBService' className=\"inlinecontent\" style={{ justifyItems: \"start\", display: this.state.showDivHPBService }}>\n                        <InputSelect\n                            options={[\n                                { value: \"communityHealth\", label: \"communityHealth\" },\n                                { value: \"workplaceHealth\", label: \"workplaceHealth\" },\n\n                            ]}\n\n                            valueExtractor={(item) => item.value}\n                            listExtractor={(item) => item.label}\n\n                            displayValueExtractor={(item) => item.label}\n                            placeholder={this.state.serviceSelection}\n                            onSelectItem={(item, selectedValue) => {\n                                this.setState({ inputValue: selectedValue }, () => {\n                                    this.ddlService(selectedValue)\n\n                                });\n                            }} />\n\n                    </div>\n\n                    <div id='divHospitalService' className=\"inlinecontent\" style={{ justifyItems: \"start\", display: this.state.showDIVHospitalservice }}>\n                        <InputSelect\n                            options={[\n                                { value: \"Doctor\", label: \"Doctor\" },\n                                { value: \"Payment\", label: \"Payment\" },\n                                { value: \"Pharmacy\", label: \"Pharmacy\" }\n\n                            ]}\n\n                            valueExtractor={(item) => item.value}\n                            listExtractor={(item) => item.label}\n\n                            displayValueExtractor={(item) => item.label}\n                            placeholder={this.state.serviceSelection}\n                            onSelectItem={(item, selectedValue) => {\n                                this.setState({ inputValue: selectedValue }, () => {\n                                    this.ddlService(selectedValue)\n\n                                });\n                            }} />\n\n                    </div>\n\n                    <br></br>\n\n                    Your are selecting agency: <b>{this.state.agencySelection},</b> and service as <b>{this.state.serviceSelection}</b>\n\n                    <br /><br />\n                    <div id='divButtonNextPatient' style={{ display: this.state.showButtonNextNumber }}>\n\n\n                        <Button.Default className='buttonsuccess'\n                            onClick={() => this.consumeQueue(this.handle200, \"nextPatient\")}\n                        >Next Number</Button.Default>\n                        <p style={{ 'color': \"green\", 'fontSize': 30, 'display': this.state.elementNobodyInQueue }}>There is no one in the queue</p>\n                    </div>\n                    <div id='divCurrentCitizen' style={{ display: this.state.showCurrentCitizen }}>\n\n                        <Layout.GridContainer className=\"column2\">\n                            <div>\n                                <div className='spacer1'></div>\n\n                                <Text.H3>Currently Serving</Text.H3>\n\n                                <BoxContainer title=\"Citizen Information\" collapsible={false} className=\"textleft\" >\n                                    <div className=\"servicecountergrid\">\n                                        <Layout.GridContainer className=\"column4\">\n                                            <Text.Body weight=\"semibold\">NRIC</Text.Body>\n                                            <Text.Body weight=\"semibold\">Name</Text.Body>\n                                            <Text.Body weight=\"semibold\">Phone Number</Text.Body>\n                                            <Text.Body weight=\"semibold\">Email</Text.Body>\n                                            <Text.Body>{this.state.nric}</Text.Body>\n                                            <Text.Body>{this.state.citizenName}</Text.Body>\n                                            <Text.Body>{this.state.citizenNumber}</Text.Body>\n                                            <Text.Body>{this.state.citizenEmail}</Text.Body>\n                                        </Layout.GridContainer>\n                                    </div>\n                                </BoxContainer>\n\n\n                                <Text.Body>Next service: </Text.Body>\n\n\n                            </div>\n\n                        </Layout.GridContainer>\n\n                        <div style={{ display: this.state.showNextServiceHPB }}>\n\n                                <InputSelect\n                                    placeholder=\"Select\"\n                                    options={[\n                                        { value: \"Doctor\", label: \"Doctor\" },\n                                        { value: \"Missed Queue\", label: \"Missed Queue\" }\n\n                                    ]}\n                                    valueExtractor={(item) => item.value}\n                                    listExtractor={(item) => item.label}\n                                    displayValueExtractor={(item) => item.label}\n                                    onSelectItem={(item, selectedValue) => {\n\n                                        if (selectedValue != \"Missed Queue\") {\n                                            this.setState({\n                                                routingKey: \"sgh.doctor\"\n                                            })\n                                        }\n\n                                        this.setState({\n                                            nextServiceSelection: selectedValue,\n                                        })\n\n\n                                    }}\n                                />\n\n                        </div>\n\n                        <div style={{ display: this.state.showNextServiceHospitalDoctor }}>\n\n                                <InputSelect\n                                    placeholder=\"Select\"\n                                    options={[\n                                        { value: \"Payment\", label: \"Payment\" },\n                                        { value: \"Pharmacy\", label: \"Pharmacy\" },\n                                        { value: \"Missed Queue\", label: \"Missed Queue\" }\n\n                                    ]}\n                                    valueExtractor={(item) => item.value}\n                                    listExtractor={(item) => item.label}\n                                    displayValueExtractor={(item) => item.label}\n                                    onSelectItem={(item, selectedValue) => {\n                                        if (selectedValue == \"Payment\") {\n                                            this.setState({\n                                                routingKey: \"sgh.payment\"\n                                            })\n                                        }\n                                        else if (selectedValue == \"Pharmacy\") {\n                                            this.setState({\n                                                routingKey: \"sgh.pharmacy\"\n                                            })\n                                        }\n                                        else {\n                                        }\n                                        this.setState({\n                                            nextServiceSelection: selectedValue,\n                                        })\n                                    }}\n                                />\n\n                        </div>\n\n\n                        <div style={{ display: this.state.showNextServiceHospitalPayment }}>\n                                <InputSelect\n                                    placeholder=\"Select\"\n                                    options={[\n                                        { value: \"Pharmacy\", label: \"Pharmacy\" },\n                                        { value: \"Missed Queue\", label: \"Missed Queue\" }\n\n                                    ]}\n                                    valueExtractor={(item) => item.value}\n                                    listExtractor={(item) => item.label}\n                                    displayValueExtractor={(item) => item.label}\n                                    onSelectItem={(item, selectedValue) => {\n                                        if (selectedValue == \"Pharmacy\") {\n                                            this.setState({\n                                                routingKey: \"sgh.pharmacy\"\n                                            })\n                                        }\n                                        else {\n                                        }\n                                        this.setState({\n                                            nextServiceSelection: selectedValue,\n                                        })\n                                    }}\n                                />\n\n                        </div>\n\n\n                        <div style={{ display: this.state.showNextServiceHospitalPharmacy }}>\n\n                                <InputSelect\n                                    placeholder=\"Select\"\n                                    options={[\n                                        { value: \"Completed\", label: \"Completed\" },\n                                        { value: \"Missed Queue\", label: \"Missed Queue\" }\n\n                                    ]}\n                                    valueExtractor={(item) => item.value}\n                                    listExtractor={(item) => item.label}\n                                    displayValueExtractor={(item) => item.label}\n                                    onSelectItem={(item, selectedValue) => {\n                                        if (selectedValue == \"Missed Queue\") {\n                                        }\n                                        else{\n                                        }\n\n                                        this.setState({\n                                            nextServiceSelection: selectedValue,\n                                        })\n                                    }}\n                                />\n\n                        </div>\n\n                        <div className='spacer1'></div>\n\n\n                        <Button.Default\n                            onClick={() => this.consumeQueue(this.handle200, \"sendtoNextService\",\n                                this.state._bookingId,\n                                this.state.nric,\n                                this.state.citizenName,\n                                this.state.citizenSalutation,\n                                this.state.citizenEmail,\n                                this.state.citizenNumber,\n                                this.state.generalType,\n                                this.state.serviceName,\n                                this.state.serviceProviderName,\n                                this.state.serviceProviderEmail,\n                                this.state.serviceProviderPhone,\n                                this.state.serviceStartDate,\n                                this.state.serviceStartTime,\n                                this.state.serviceProviderLocation,\n                                this.state.bookingStatus,\n                                this.state.queueNumber\n\n\n                            )} \n\n                            style={{marginBottom: \"50px\"}}\n\n                        >Send to next service</Button.Default>\n\n                    </div>\n\n                </Layout.Container>\n            </StyledSection>\n        )\n    }\n    ddlAgency(selectedValue: any) {\n        if (selectedValue == \"HPB\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"block\",\n                showDIVHospitalservice: \"none\",\n                agencySelection: \"HPB\",\n                serviceSelection: \"communityHealth\"\n            })\n\n            this.loadData();\n\n        }\n        else {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"none\",\n                showDIVHospitalservice: \"block\",\n                agencySelection: \"Hospital\",\n                serviceSelection: \"Doctor\"\n\n            })\n            this.loadData();\n\n        }\n    }\n\n    ddlService(selectedValue: any) {\n        if (selectedValue == \"communityHealth\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"block\",\n                showDIVHospitalservice: \"none\",\n                serviceSelection: \"communityHealth\",\n                queueName: \"communityHealthQueue\",\n            })\n\n            this.loadData()\n        }\n        else if (selectedValue == \"workplaceHealth\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"block\",\n                showDIVHospitalservice: \"none\",\n                serviceSelection: \"workplaceHealth\",\n                queueName: \"workplaceHealthQueue\",\n\n            })\n            this.loadData()\n\n        }\n        else if (selectedValue == \"Doctor\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"none\",\n                showDIVHospitalservice: \"block\",\n                serviceSelection: \"Doctor\",\n                queueName: \"doctorQueue\",\n            })\n            this.loadData()\n\n        }\n        else if (selectedValue == \"Payment\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"none\",\n                showDIVHospitalservice: \"block\",\n                serviceSelection: \"Payment\",\n                queueName: \"paymentQueue\",\n\n            })\n            this.loadData()\n\n        }\n        else if (selectedValue == \"Pharmacy\") {\n            this.setState({\n                showCurrentCitizen: \"none\",\n                showDivHPBService: \"none\",\n                showDIVHospitalservice: \"block\",\n                serviceSelection: \"Pharmacy\",\n                queueName: \"pharmacyQueue\",\n\n            })\n            this.loadData()\n\n        }\n    }\n\n\n    handle200(response) {\n        console.log('handle200 has received:', response);\n    }\n\n\n\n    consumeQueue(callback, buttonSelected: string,\n        bookingId?: string,\n        nric?: string,\n        citizenName?: string,\n        citizenSalutation?: string,\n        citizenEmail?: string,\n        citizenNumber?: string,\n        generalType?: string,\n        serviceName?: string,\n        serviceProviderName?: string,\n        serviceProviderEmail?: string,\n        serviceProviderPhone?: string,\n        serviceStartDate?: string,\n        serviceStartTime?: string,\n        serviceProviderLocation?: string,\n        bookingStatus?: string,\n        queueNumber?:string\n    ) {\n\n        var respectiveURL = \"\"\n        if (buttonSelected == \"nextPatient\") {\n\n            respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=\" + this.state.queueName\n            console.log(respectiveURL)\n        }\n        if (buttonSelected == \"sendtoNextService\") {\n\n \n\n\n\n            const queueObject = {\n                \"_id\": bookingId,\n                \"nric\": nric,\n                \"citizenName\": citizenName,\n                \"citizenSalutation\": citizenSalutation,\n                \"citizenEmail\": citizenEmail,\n                \"citizenNumber\": citizenNumber,\n\n                \"generalType\": generalType,\n                \"serviceName\": serviceName,\n                \"serviceProviderName\": serviceProviderName,\n                \"serviceProviderEmail\": serviceProviderEmail,\n                \"serviceProviderPhone\": serviceProviderPhone,\n                \"serviceStartDate\": serviceStartDate,\n                \"serviceStartTime\": serviceStartTime,\n                \"serviceProviderLocation\": serviceProviderLocation,\n                \"bookingStatus\": bookingStatus,\n                \"queueNumber\": queueNumber\n            }\n\n            console.log(queueObject)\n\n            var myJSON = encodeURI(JSON.stringify(queueObject));\n            respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId!!.toString() + \"&exchangeID=master&bindingKey=\" + this.state.routingKey + \"&bookingDetails=\" + myJSON;\n            console.log(\"testing payment: \" + respectiveURL)\n        }\n\n\n\n\n        const xhr = new XMLHttpRequest(),\n            method = \"GET\",\n            url = respectiveURL;\n        // initialize a new GET request\n        xhr.open(method, url, true);\n\n        // respond to every readyState change\n        xhr.onreadystatechange = () => {\n            // ignore all readyStates other than \"DONE\"\n            if (xhr.readyState !== XMLHttpRequest.DONE) {\n                return;\n            }\n\n            // call the callback with status\n            if (xhr.status === 200) {\n                console.log(xhr.responseText)\n                if(xhr.responseText == \"there is no one in the queue\"){\n                    this.setState({\n                        elementNobodyInQueue: \"block\"\n                    })\n                    return;\n                }\n                var calledBooking: Booking;\n                if (buttonSelected == \"nextPatient\") {\n                    this.setState({\n                        _bookingId: JSON.parse(xhr.responseText).Id,\n                        nric: JSON.parse(xhr.responseText).Nric,\n                        citizenName: JSON.parse(xhr.responseText).CitizenName,\n                        citizenEmail: JSON.parse(xhr.responseText).CitizenEmail,\n                        citizenNumber: JSON.parse(xhr.responseText).CitizenNumber,\n                        citizenSalutation: JSON.parse(xhr.responseText).CitizenSalutation,\n                        generalType: JSON.parse(xhr.responseText).GeneralType,\n\n                        serviceName: JSON.parse(xhr.responseText).ServiceName,\n\n                        serviceProviderEmail: JSON.parse(xhr.responseText).ServiceProviderEmail,\n                        serviceProviderName: JSON.parse(xhr.responseText).ServiceProviderName,\n                        serviceStartDate: JSON.parse(xhr.responseText).ServiceStartDate,\n                        serviceProviderPhone: JSON.parse(xhr.responseText).ServiceProviderPhone,\n                        serviceStartTime: JSON.parse(xhr.responseText).ServiceStartTime,\n                        serviceProviderLocation: JSON.parse(xhr.responseText).ServiceProviderLocation,\n                        bookingStatus: JSON.parse(xhr.responseText).BookingStatus,\n                        queueNumber : JSON.parse(xhr.responseText).QueueNumber,\n                        elementNobodyInQueue: \"none\",\n                        showCurrentCitizen: \"block\"\n                    })\n\n                    if (this.state.agencySelection == \"HPB\") {\n                        this.setState({\n                            showNextServiceHospitalDoctor: \"none\",\n                            showNextServiceHospitalPharmacy: \"none\",\n                            showNextServiceHospitalPayment: \"none\",\n                            showNextServiceHPB: \"block\"\n                        })\n                    }\n                    else {\n                        this.setState({\n                            showNextServiceHospitalDoctor: \"none\",\n                            showNextServiceHospitalPharmacy: \"none\",\n                            showNextServiceHospitalPayment: \"none\",\n                            showNextServiceHPB: \"none\"\n                        })\n\n                        if(this.state.serviceSelection == \"Doctor\"){\n                            this.setState({\n                                showNextServiceHospitalDoctor: \"block\",\n                                showNextServiceHospitalPharmacy: \"none\",\n                                showNextServiceHospitalPayment: \"none\",\n                                showNextServiceHPB: \"none\"\n                            })\n                        }\n\n                        else if(this.state.serviceSelection == \"Payment\"){\n                            this.setState({\n                                showNextServiceHospitalDoctor: \"none\",\n                                showNextServiceHospitalPharmacy: \"none\",\n                                showNextServiceHospitalPayment: \"block\",\n                                showNextServiceHPB: \"none\"\n                            })\n                        }\n\n                        else{\n                            this.setState({\n                                showNextServiceHospitalDoctor: \"none\",\n                                showNextServiceHospitalPharmacy: \"block\",\n                                showNextServiceHospitalPayment: \"none\",\n                                showNextServiceHPB: \"none\"\n                            })\n                        }\n                    }\n\n                    calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.generalType, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n\n                    document.getElementById(\"divCurrentCitizen\")!!.style.display = \"block\";\n                    document.getElementById(\"divButtonNextPatient\")!!.style.display = \"none\";\n                    calledBooking.BookingStatus = this.state.serviceSelection + \"-Calling\"\n\n                    console.log(\"called booking: \" + calledBooking)\n\n                    BaseService.update<Booking>(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/update/\", this.state._bookingId, calledBooking).then(\n\n                        (rp) => {\n                            if (rp.Status) {\n                                console.log('Booking saved.');\n                            } else {\n                                console.log(rp.Messages);\n                                console.log(\"Messages: \" + rp.Messages);\n                                console.log(\"Exception: \" + rp.Exception);\n                            }\n                        }\n                    );\n\n\n\n                }\n\n                if (buttonSelected == \"sendtoNextService\") {\n                    this.setState({\n                        showModal: true\n                    });\n\n                    calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.generalType, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n\n                    \n                    document.getElementById(\"divCurrentCitizen\")!!.style.display = \"none\";\n                    document.getElementById(\"divButtonNextPatient\")!!.style.display = \"block\";\n\n\n\n                    // console.log(this.state)\n\n                    if (this.state.nextServiceSelection == \"Missed Queue\") {\n                    //     this.getQueue(calledBooking.Id!!, this.state.serviceSelection + \"-Missed\", true);\n                        calledBooking.BookingStatus = this.state.serviceSelection + \"-Missed\"\n\n                    }\n\n                    else if (this.state.nextServiceSelection == \"Completed\") {\n                        calledBooking.BookingStatus = \"Completed\"\n\n                    }\n                    else if (this.state.nextServiceSelection != this.state.serviceSelection && this.state.nextServiceSelection != \"Missed Queue\" && this.state.nextServiceSelection != \"Completed\") {\n                    //     this.getQueue(calledBooking.Id!!, this.state.serviceSelection + \"-Queued\", false);\n                        calledBooking.BookingStatus = this.state.nextServiceSelection + \"-Queued\"\n\n                    }\n                    else{\n                        calledBooking.BookingStatus = this.state.serviceSelection + \"-Calling\"\n\n                    }\n\n                    \n\n                    console.log(calledBooking)\n\n\n                    BaseService.update<Booking>(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/update/\", this.state._bookingId, calledBooking).then(\n\n                        (rp) => {\n                            if (rp.Status) {\n                                console.log('Booking saved.');\n                            } else {\n                                console.log(rp.Messages);\n                                console.log(\"Messages: \" + rp.Messages);\n                                console.log(\"Exception: \" + rp.Exception);\n                            }\n                        }\n                    );\n\n                }\n\n\n\n                // console.log(JSON.parse(xhr.responseText));\n\n                return callback(xhr.status);\n            }\n\n            // got something other than 200,\n            // re-initialize and send another GET request\n            xhr.open(method, url, true);\n            xhr.send();\n        }\n\n        // send the initial GET request\n        xhr.send();\n    }\n\n\n}\n\nexport default ServiceCounter;\n"]},"metadata":{},"sourceType":"module"}