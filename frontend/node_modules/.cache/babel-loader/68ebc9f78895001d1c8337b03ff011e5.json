{"ast":null,"code":"var _jsxFileName = \"/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/CreateNewBooking.tsx\";\nimport React from 'react';\nimport * as toastr from 'toastr';\nimport BaseService from '../service/base.service';\nimport { BookingPage } from './displayBookingForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Create extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSave = () => {\n      BaseService.create(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/create\", this.state.booking).then(rp => {\n        if (rp.Status) {\n          toastr.success('Booking saved.');\n          this.setState({\n            booking: {\n              Nric: '',\n              CitizenName: '',\n              CitizenSalutation: '',\n              CitizenEmail: '',\n              CitizenNumber: '',\n              GeneralType: '',\n              ServiceName: 'Consultation',\n              ServiceProviderName: '',\n              ServiceProviderEmail: '',\n              ServiceProviderPhone: '',\n              ServiceStartDate: '',\n              ServiceStartTime: '',\n              ServiceProviderLocation: '',\n              BookingStatus: 'New',\n              Id: '',\n              QueueNumber: ''\n            }\n          });\n        } else {\n          toastr.error(rp.Messages);\n          console.log(\"Messages: \" + rp.Messages);\n          console.log(\"Exception: \" + rp.Exception);\n        }\n      });\n    };\n\n    this.state = {\n      booking: {\n        Nric: '',\n        CitizenName: '',\n        CitizenSalutation: '',\n        CitizenEmail: '',\n        CitizenNumber: '',\n        GeneralType: '',\n        ServiceName: 'Consultation',\n        ServiceProviderName: '',\n        ServiceProviderEmail: '',\n        ServiceProviderPhone: '',\n        ServiceStartDate: '',\n        ServiceStartTime: '',\n        ServiceProviderLocation: '',\n        BookingStatus: 'New',\n        QueueNumber: ''\n      }\n    };\n    this.onFieldValueChange = this.onFieldValueChange.bind(this);\n  }\n\n  onFieldValueChange(fieldName, value) {\n    const nextState = { ...this.state,\n      booking: { ...this.state.booking,\n        [fieldName]: value\n      }\n    };\n    this.setState(nextState);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BookingPage, {\n      booking: this.state.booking,\n      onChange: this.onFieldValueChange,\n      onSave: this.onSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/CreateNewBooking.tsx"],"names":["React","toastr","BaseService","BookingPage","Create","Component","constructor","props","onSave","create","process","env","REACT_APP_APPOINTMENT_API_ADDRESS","state","booking","then","rp","Status","success","setState","Nric","CitizenName","CitizenSalutation","CitizenEmail","CitizenNumber","GeneralType","ServiceName","ServiceProviderName","ServiceProviderEmail","ServiceProviderPhone","ServiceStartDate","ServiceStartTime","ServiceProviderLocation","BookingStatus","Id","QueueNumber","error","Messages","console","log","Exception","onFieldValueChange","bind","fieldName","value","nextState","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as toastr from 'toastr';\nimport Booking from '../models/booking';\nimport BaseService from '../service/base.service';\nimport { BookingPage } from './displayBookingForm';\n \n\n\ninterface IProps { \n    history: History;\n    //Map properties match\n    match:{ \n        isExact: boolean\n        params: {\n            id:string\n        },\n        path: string,\n        url: string,\n    }\n}\ninterface IState {\n    booking: Booking\n}\n\n\nexport default class Create extends  React.Component<IProps, IState> {\n    \n    constructor(props:IProps) {\n        super(props);\n         \n        this.state = {\n            booking: {\n                Nric : '',\n                CitizenName : '',\n                CitizenSalutation : '',\n                CitizenEmail : '',\n                CitizenNumber : '',\n                GeneralType: '',\n                ServiceName : 'Consultation',\n                ServiceProviderName : '',\n                ServiceProviderEmail : '',\n                ServiceProviderPhone : '',\n                ServiceStartDate : '',\n                ServiceStartTime : '',\n                ServiceProviderLocation : '',\n                BookingStatus : 'New',\n                QueueNumber: ''\n            }\n        }\n        this.onFieldValueChange = this.onFieldValueChange.bind(this);\n    }\n\n    private onFieldValueChange(fieldName: string, value: string) { \n        const nextState = {\n            ...this.state,\n            booking: {\n                ...this.state.booking,\n                [fieldName]: value,\n            }\n        };\n\n        this.setState(nextState);\n    }\n    private onSave = () => { \n        BaseService.create<Booking>(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + \"api/booking/create\", this.state.booking).then(\n            (rp) => {\n                if (rp.Status) {\n                    toastr.success('Booking saved.'); \n\n\n                    this.setState({\n                        booking: {\n                            Nric : '',\n                            CitizenName : '',\n                            CitizenSalutation : '',\n                            CitizenEmail : '',\n                            CitizenNumber : '',\n                            GeneralType: '',\n                            ServiceName : 'Consultation',\n                            ServiceProviderName : '',\n                            ServiceProviderEmail : '',\n                            ServiceProviderPhone : '',\n                            ServiceStartDate : '',\n                            ServiceStartTime : '',\n\n                            ServiceProviderLocation : '',\n                            BookingStatus : 'New',\n                            Id: '',\n                            QueueNumber: ''\n                        }\n                    });\n                     \n                } else {\n                    toastr.error(rp.Messages);\n                    console.log(\"Messages: \" + rp.Messages);\n                    console.log(\"Exception: \" + rp.Exception);\n                }\n            }\n        );\n\n    } \n     \n    render() {\n        return (\n            <BookingPage\n                booking={this.state.booking}\n                onChange={this.onFieldValueChange}\n                onSave={this.onSave}\n            />\n        );\n    }     \n     \n}"]},"metadata":{},"sourceType":"module"}