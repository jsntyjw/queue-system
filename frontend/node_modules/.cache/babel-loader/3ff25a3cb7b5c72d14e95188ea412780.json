{"ast":null,"code":"var _jsxFileName = \"/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/Appointments.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport { Text, Button, Layout, Breadcrumb, InputGroup, Accordion, InputSelect, Modal, RadioButton } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\nimport { Container, Label, ModalContent, OptionContainer } from \"../models/doc-elements\";\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\nclass Appointment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: [],\n      inputValue: '',\n      clicked: 'none',\n      showModal: false,\n      showNRIC: 'block',\n      showLocation: 'none',\n      selected: 'A'\n    };\n    this.searchByLocation = this.searchByLocation.bind(this);\n  }\n\n  async searchByLocation(searchMethod) {\n    var apiURL;\n\n    if (searchMethod == \"location\") {\n      apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/location/';\n      document.getElementById(\"divAppointments\").style.display = \"block\";\n    } else {\n      apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/';\n      document.getElementById(\"divAppointments\").style.display = \"block\";\n    }\n\n    fetch(apiURL + this.state.inputValue).then(function (response) {\n      return response.json();\n    }).then(myJson => {\n      this.state.bookings.length = 0;\n      myJson.data.forEach(element => {\n        var eachBooking = new Booking(element[\"_id\"], element[\"nric\"], element[\"citizenName\"], element[\"citizenSalutation\"], element[\"citizenEmail\"], element[\"citizenNumber\"], element[\"serviceName\"], element[\"serviceProviderName\"], element[\"serviceProviderEmail\"], element[\"serviceProviderPhone\"], element[\"serviceStartDate\"], element[\"serviceStartTime\"], element[\"serviceProviderLocation\"], element[\"bookingStatus\"], element[\"queueNumber\"]); // const bookings = this.state.bookings.slice(0);\n\n        this.state.bookings.push(eachBooking); // console.log(bookings)\n\n        this.setState({\n          bookings: this.state.bookings,\n          clicked: 'block'\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(StyledSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Base, {\n      show: this.state.showModal,\n      animationFrom: \"bottom\",\n      enableOverlayClick: true // onOverlayClick={closeModal()}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Box, {\n      onClose: () => {\n        this.setState({\n          showModal: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ModalContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 33\n      }\n    }, \"Send to queue succesfully\")))), /*#__PURE__*/React.createElement(Layout.Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      links: [{\n        title: 'Home',\n        url: '/Home'\n      }, {\n        title: 'Appointments'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(OptionContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"A\",\n      id: \"multiple-options-a\",\n      name: \"multiple-options\",\n      onChange: () => {\n        this.setState({\n          selected: 'A',\n          showNRIC: 'block',\n          showLocation: 'none'\n        });\n      },\n      checked: this.state.selected === \"A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"multiple-options-a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 33\n      }\n    }, \"View appointments by NRIC\")), /*#__PURE__*/React.createElement(OptionContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"B\",\n      id: \"multiple-options-b\",\n      name: \"multiple-options\",\n      onChange: () => {\n        this.setState({\n          selected: 'B',\n          showLocation: 'block',\n          showNRIC: 'none'\n        });\n      },\n      checked: this.state.selected === \"B\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"multiple-options-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }, \"View appointments by Location\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divNRIC\",\n      style: {\n        justifyItems: \"start\",\n        maxWidth: '400px',\n        display: this.state.showNRIC\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      addon: {\n        type: 'custom'\n      },\n      placeholder: \"Type NRIC here...\",\n      onChange: evt => this.updateInputValue(evt),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button.Default, {\n      onClick: () => this.searchByLocation(\"NRIC\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 29\n      }\n    }, \"Search\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divLocation\",\n      className: \"inlinecontent\",\n      style: {\n        justifyItems: \"start\",\n        maxWidth: '400px',\n        display: this.state.showLocation\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputSelect, {\n      options: [{\n        value: \"Tampines\",\n        label: \"Tampines\"\n      }, {\n        value: \"Woodlands\",\n        label: \"Woodlands\"\n      }, {\n        value: \"Toa Payoh\",\n        label: \"Toa Payoh\"\n      }, {\n        value: \"Punggol\",\n        label: \"Punggol\"\n      }],\n      valueExtractor: item => item.value,\n      listExtractor: item => item.label,\n      displayValueExtractor: item => item.label,\n      placeholder: \"Select a location\",\n      onSelectItem: (item, selectedValue) => {\n        this.setState({\n          inputValue: selectedValue\n        }, () => {\n          this.searchByLocation('location');\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divAppointments\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(StyledContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Text.H3, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, \"Appointments\"), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 29\n      }\n    }, \"Government services appointments\"), /*#__PURE__*/React.createElement(Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Base, {\n      className: \"base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, this.state.bookings.map((input, index) => {\n      console.log(this.state.bookings);\n      return /*#__PURE__*/React.createElement(Accordion.Item, {\n        title: input.ServiceName,\n        key: index,\n        expanded: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Text.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 61\n        }\n      }, \"Citizen Name :\"), \"  \", input.CitizenName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 61\n        }\n      }, \"Citizen Number: \"), \" \", input.CitizenNumber), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 61\n        }\n      }, \"Citizen Email: \"), \" \", input.CitizenEmail), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 61\n        }\n      }, \"Service start date:\"), \"  \", input.ServiceStartDate), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 61\n        }\n      }, \"Service start time:\"), \"  \", input.ServiceStartTime), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 61\n        }\n      }, \"Service Name:\"), \"  \", input.ServiceName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 61\n        }\n      }, \"Service Provider Location:\"), \"  \", input.ServiceProviderLocation)), /*#__PURE__*/React.createElement(Button.Default, {\n        onClick: () => this.checkPage(this.handle200, input.Id, input.Nric, input.CitizenName, input.CitizenEmail, input.CitizenNumber),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 53\n        }\n      }, \"Send to Queue\")));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 29\n      }\n    }))))));\n  }\n\n  handle200(response) {\n    console.log('handle200 has received:', response);\n  }\n\n  checkPage(callback, bookingId, nric, citizenName, citizenEmail, citizenNumber) {\n    pad;\n    const queueObject = {\n      \"_id\": bookingId,\n      \"nric\": nric,\n      \"citizenName\": citizenName,\n      \"citizenEmail\": citizenEmail,\n      \"citizenNumber\": citizenNumber\n    };\n    const myJSON = encodeURI(JSON.stringify(queueObject));\n    const xhr = new XMLHttpRequest(),\n          method = \"GET\",\n          url = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId + \"&exchangeID=hospital&bindingKey=doctor&bookingDetails=\" + myJSON; // initialize a new GET request\n\n    xhr.open(method, url, true); // respond to every readyState change\n\n    xhr.onreadystatechange = () => {\n      // ignore all readyStates other than \"DONE\"\n      if (xhr.readyState !== XMLHttpRequest.DONE) {\n        return;\n      } // call the callback with status\n\n\n      if (xhr.status === 200) {\n        this.setState({\n          showModal: true\n        });\n        return callback(xhr.status);\n      } // got something other than 200,\n      // re-initialize and send another GET request\n\n\n      xhr.open(method, url, true);\n      xhr.send();\n    }; // send the initial GET request\n\n\n    xhr.send();\n  }\n\n  updateInputValue(evt) {\n    const val = evt.target.value;\n    this.setState({\n      inputValue: val\n    });\n  }\n\n}\n\nexport default Appointment; // function closeModalFn(): (() => void) | undefined {\n//     throw new Error('Function not implemented.');\n// }\n// const [show, setShow ] = useState(false)\n// function closeModal(): (() => void) | undefined {\n//     document.getElementById(\"divModal\")!!.style.display = \"none\";\n//     throw new Error('Function not implemented.');\n// }\n// call checkPage once","map":{"version":3,"sources":["/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/Appointments.tsx"],"names":["React","Text","Button","Layout","Breadcrumb","InputGroup","Accordion","InputSelect","Modal","RadioButton","styled","Booking","Container","Label","ModalContent","OptionContainer","StyledContainer","GridContainer","StyledSection","Section","Main","main","Appointment","Component","constructor","props","state","bookings","inputValue","clicked","showModal","showNRIC","showLocation","selected","searchByLocation","bind","searchMethod","apiURL","process","env","REACT_APP_MY_EC2_API_ADDRESS","document","getElementById","style","display","fetch","then","response","json","myJson","length","data","forEach","element","eachBooking","push","setState","render","title","url","justifyItems","maxWidth","type","evt","updateInputValue","value","label","item","selectedValue","map","input","index","console","log","ServiceName","CitizenName","CitizenNumber","CitizenEmail","ServiceStartDate","ServiceStartTime","ServiceProviderLocation","checkPage","handle200","Id","Nric","callback","bookingId","nric","citizenName","citizenEmail","citizenNumber","pad","queueObject","myJSON","encodeURI","JSON","stringify","xhr","XMLHttpRequest","method","open","onreadystatechange","readyState","DONE","status","send","val","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport '../App.css';\nimport { Text, Button, Layout, BoxContainer, Breadcrumb, InputGroup, Accordion, InputSelect, Modal, RadioButton, } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\n\nimport { Container, Label, ModalContent, OptionContainer } from \"../models/doc-elements\";\n\n\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\n\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\ninterface MyState {\n    bookings: Booking[],\n    inputValue: string,\n    clicked: string,\n    showModal: boolean,\n    showNRIC: string,\n    showLocation: string,\n    selected: string\n}\n\n\n\n\nclass Appointment extends React.Component<{}, MyState> {\n\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: [],\n            inputValue: '',\n            clicked: 'none',\n            showModal: false,\n            showNRIC: 'block',\n            showLocation: 'none',\n            selected: 'A'\n\n        };\n        this.searchByLocation = this.searchByLocation.bind(this)\n    }\n\n    public async searchByLocation(searchMethod: string) {\n\n        var apiURL: string\n        if (searchMethod == \"location\") {\n            apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/location/';\n            document.getElementById(\"divAppointments\")!!.style.display = \"block\";\n\n        }\n        else {\n            apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/';\n            document.getElementById(\"divAppointments\")!!.style.display = \"block\";\n\n        }\n\n        fetch(apiURL + this.state.inputValue)\n            .then(function (response) {\n                \n                return response.json();\n            })\n            .then((myJson) => {\n                this.state.bookings.length = 0;\n                myJson.data.forEach(element => {\n                    var eachBooking = new Booking(\n                        element[\"_id\"],\n                        element[\"nric\"],\n                        element[\"citizenName\"],\n                        element[\"citizenSalutation\"],\n                        element[\"citizenEmail\"],\n                        element[\"citizenNumber\"],\n                        element[\"serviceName\"],\n                        element[\"serviceProviderName\"],\n                        element[\"serviceProviderEmail\"],\n                        element[\"serviceProviderPhone\"],\n                        element[\"serviceStartDate\"],\n                        element[\"serviceStartTime\"],\n                        element[\"serviceProviderLocation\"],\n                        element[\"bookingStatus\"],\n                        element[\"queueNumber\"]\n                    );\n\n                    \n                    // const bookings = this.state.bookings.slice(0);\n                    this.state.bookings.push(eachBooking)\n                    // console.log(bookings)\n\n                    this.setState({\n                        bookings: this.state.bookings,\n                        clicked: 'block'\n                    });\n\n                });\n            });\n    }\n\n    render() {\n\n\n        return (\n\n            <div>\n\n\n\n                <StyledSection>\n\n                    <Modal.Base\n                        show={this.state.showModal}\n                        animationFrom=\"bottom\"\n                        enableOverlayClick={true}\n                    // onOverlayClick={closeModal()}\n                    >\n                        <Modal.Box onClose={() => {\n\n                            this.setState({\n                                showModal: false\n                            });\n\n\n\n                        }}>\n                            <ModalContent>\n                                <span>Send to queue succesfully</span>\n                            </ModalContent>\n                        </Modal.Box>\n                    </Modal.Base>\n\n                    <Layout.Container>\n\n\n\n                        <Breadcrumb links={[{ title: 'Home', url: '/Home' }, { title: 'Appointments' }]} />\n\n                        <Container>\n                            <OptionContainer>\n                                <RadioButton value=\"A\" id=\"multiple-options-a\" name=\"multiple-options\" onChange={() => {\n                                    this.setState({\n                                        selected: 'A',\n                                        showNRIC: 'block',\n                                        showLocation: 'none'\n                                    }\n\n                                    );\n                                }} checked={this.state.selected === \"A\"} />\n                                <Label htmlFor=\"multiple-options-a\">View appointments by NRIC</Label>\n                            </OptionContainer>\n                            <OptionContainer>\n                                <RadioButton value=\"B\" id=\"multiple-options-b\" name=\"multiple-options\" onChange={() => {\n                                    this.setState({\n                                        selected: 'B',\n                                        showLocation: 'block',\n                                        showNRIC: 'none'\n                                    });\n                                }} checked={this.state.selected === \"B\"} />\n                                <Label htmlFor=\"multiple-options-b\">View appointments by Location</Label>\n                            </OptionContainer>\n                        </Container>\n\n                        <div className=\"spacer2\"></div>\n\n                        <div id='divNRIC' style={{ justifyItems: \"start\", maxWidth: '400px', display: this.state.showNRIC }}>\n                            <InputGroup addon={{\n                                type: 'custom'\n                            }} placeholder=\"Type NRIC here...\"\n                                onChange={evt => this.updateInputValue(evt)}\n                            />\n\n                            <br />\n                            <Button.Default onClick={() => this.searchByLocation(\"NRIC\")} >Search</Button.Default>\n                        </div>\n\n                        <div id='divLocation' className=\"inlinecontent\" style={{ justifyItems: \"start\",maxWidth: '400px', display: this.state.showLocation }}>\n                            <InputSelect\n                                options={[\n                                    { value: \"Tampines\", label: \"Tampines\" },\n                                    { value: \"Woodlands\", label: \"Woodlands\" },\n                                    { value: \"Toa Payoh\", label: \"Toa Payoh\" },\n                                    { value: \"Punggol\", label: \"Punggol\" },\n                                ]}\n                                \n                                valueExtractor={(item) => item.value}\n                                listExtractor={(item) => item.label}\n                                displayValueExtractor={(item) => item.label}\n                                placeholder=\"Select a location\"\n                                onSelectItem={(item, selectedValue) => {\n                                    this.setState({ inputValue: selectedValue }, () => {\n                                        this.searchByLocation('location')\n                                    });\n                                }} />\n\n                        </div>\n                        <div className=\"spacer2\"></div>\n                        {/* <div id=\"outsideCitizenInfoDiv\" style={{ display: 'none' }}>\n                            <BoxContainer title=\"Citizen Information\" collapsible={false} className=\"textleft\" >\n                                <div style={{ padding: \"2rem\", minWidth: \"1080px\" }}>\n                                    <Layout.GridContainer className=\"column4\">\n                                        <Text.Body weight=\"semibold\">NRIC</Text.Body>\n                                        <Text.Body weight=\"semibold\">Name</Text.Body>\n                                        <Text.Body weight=\"semibold\">Phone Number</Text.Body>\n                                        <Text.Body weight=\"semibold\">Email</Text.Body>\n                                        <Text.Body>{this.state.bookings[0]?.Nric}</Text.Body>\n                                        <Text.Body>{this.state.bookings[0]?.CitizenName}</Text.Body>\n                                        <Text.Body>{this.state.bookings[0]?.CitizenNumber}</Text.Body>\n                                        <Text.Body>{this.state.bookings[0]?.CitizenEmail}</Text.Body>\n                                    </Layout.GridContainer>\n                                </div>\n                            </BoxContainer>\n                        </div> */}\n\n                        <div className=\"spacer5\"></div>\n\n                        <div id='divAppointments' style={{display:'none'}}>\n\n                        {/* <div id='divLocation' className=\"inlinecontent\" style={{ justifyItems: \"start\",maxWidth: '400px', alignContent:'right', display: this.state.showLocation }}>\n                            <InputSelect\n                                options={[\n                                    { value: \"Tampines\", label: \"Tampines\" },\n                                    { value: \"Woodlands\", label: \"Woodlands\" },\n                                    { value: \"Toa Payoh\", label: \"Toa Payoh\" },\n                                    { value: \"Punggol\", label: \"Punggol\" },\n                                ]}\n                                \n                                valueExtractor={(item) => item.value}\n                                listExtractor={(item) => item.label}\n                                displayValueExtractor={(item) => item.label}\n                                placeholder=\"Select a location\"\n                                onSelectItem={(item, selectedValue) => {\n                                    this.setState({ inputValue: selectedValue }, () => {\n                                        this.searchByLocation('location')\n                                    });\n                                }} />\n\n                        </div> */}\n                        <StyledContainer>\n                            <Text.H3>Appointments</Text.H3>\n                            <Text.Body>Government services appointments</Text.Body>\n                            <Main>\n\n                           \n\n\n                                <Accordion.Base className='base' >\n                                    {this.state.bookings.map((input, index) => {\n\n                                        console.log(this.state.bookings)\n                                        return (\n                                            <Accordion.Item title={input.ServiceName} key={index} expanded={false}>\n                                                <Text.Body>\n                                                    <ul>\n                                                        <li>\n                                                            <b>Citizen Name :</b>  {input.CitizenName}\n                                                        </li>\n                                                        <li>\n                                                            <b>Citizen Number: </b> {input.CitizenNumber}\n                                                        </li>\n                                                        <li>\n                                                            <b>Citizen Email: </b> {input.CitizenEmail}\n                                                        </li>\n                                                        <li>\n                                                            <b>Service start date:</b>  {input.ServiceStartDate}\n                                                        </li>\n                                                        <li>\n                                                            <b>Service start time:</b>  {input.ServiceStartTime}\n                                                        </li>\n                                                        <li>\n                                                            <b>Service Name:</b>  {input.ServiceName}\n                                                        </li>\n                                                        <li>\n                                                            <b>Service Provider Location:</b>  {input.ServiceProviderLocation}\n                                                        </li>\n                                                    </ul>\n\n                                                    <Button.Default\n                                                        onClick={() => this.checkPage(this.handle200, input.Id!!, input.Nric, input.CitizenName, input.CitizenEmail, input.CitizenNumber)}\n                                                    >Send to Queue</Button.Default>\n                                                </Text.Body>\n                                            </Accordion.Item>\n                                        )\n                                    })}\n                                </Accordion.Base>\n\n                            </Main>\n                            <div className=\"spacer3\"></div>\n                        </StyledContainer>\n\n                        </div>\n                    </Layout.Container>\n                </StyledSection>\n            </div>\n        )\n    }\n\n    handle200(response) {\n        console.log('handle200 has received:', response);\n    }\n\n    checkPage(callback, bookingId: string, nric: string, citizenName: string, citizenEmail: string, citizenNumber: string) {\n        pad\n        const queueObject = {\n            \"_id\": bookingId,\n            \"nric\": nric,\n            \"citizenName\": citizenName,\n            \"citizenEmail\": citizenEmail,\n            \"citizenNumber\": citizenNumber\n        }\n\n        const myJSON = encodeURI(JSON.stringify(queueObject));\n\n\n        const xhr = new XMLHttpRequest(),\n            method = \"GET\",\n            url = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId + \"&exchangeID=hospital&bindingKey=doctor&bookingDetails=\" + myJSON;\n        // initialize a new GET request\n        xhr.open(method, url, true);\n\n        // respond to every readyState change\n        xhr.onreadystatechange = () => {\n\n            // ignore all readyStates other than \"DONE\"\n            if (xhr.readyState !== XMLHttpRequest.DONE) { return; }\n\n            // call the callback with status\n            if (xhr.status === 200) {\n                this.setState({\n                    showModal: true\n                });\n                return callback(xhr.status);\n            }\n\n            // got something other than 200,\n            // re-initialize and send another GET request\n            xhr.open(method, url, true);\n            xhr.send();\n        }\n\n        // send the initial GET request\n        xhr.send();\n    }\n\n    updateInputValue(evt) {\n        const val = evt.target.value;\n        this.setState({\n            inputValue: val\n        });\n    }\n}\n\nexport default Appointment;\n\n\n\n\n\n\n// function closeModalFn(): (() => void) | undefined {\n//     throw new Error('Function not implemented.');\n// }\n// const [show, setShow ] = useState(false)\n// function closeModal(): (() => void) | undefined {\n//     document.getElementById(\"divModal\")!!.style.display = \"none\";\n//     throw new Error('Function not implemented.');\n// }\n// call checkPage once\n\n"]},"metadata":{},"sourceType":"module"}