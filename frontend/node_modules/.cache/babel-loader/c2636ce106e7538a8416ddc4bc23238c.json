{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\junjie\\\\Documents\\\\GitHub\\\\queue-system\\\\frontend\\\\src\\\\App.tsx\";\nimport * as React from 'react';\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport './App.css';\nimport './index.css';\nimport 'toastr/build/toastr.min.css';\nimport Edit from './components/UpdateBooking';\nimport Create from './components/CreateNewBooking';\nimport Home from './components/Home';\nimport Appointments from './components/Appointments';\nimport UpcomingAppointments from './components/UpcomingAppointments';\nimport ServiceCounter from './components/ServiceCounter';\nimport Dashboard from './components/Dashboard';\nimport ScanIC from './components/scanic.component';\nimport BookingFound from './components/bookingfound.component';\n/** App.tsx **/\n// import React from \"react\";\n\nimport { Footer, Text, Layout } from \"react-lifesg-design-system\"; // require('dotenv').config();\n\nimport { Navbar } from 'react-lifesg-design-system';\nimport ViewAllBookings from './components/ViewAllBookings';\nimport Login from './components/Login';\n// var role = \"citizen\"\n// var sessionResult = sessionStorage.getItem('data') || '{}'\n//         var obj = JSON.parse(sessionResult);\n//         console.log(sessionResult)\n//         role = obj.Role\n// document.onreadystatechange = function(e)\n// {\n//     if (document.readyState === 'complete')\n//     {\n//         //dom is ready, window.onload fires later\n//         var sessionResult = sessionStorage.getItem('data') || '{}'\n//         var obj = JSON.parse(sessionResult);\n//         console.log(sessionResult)\n//         role = obj.Role\n//     }\n// };\nconsole.log(sessionStorage.getItem('data'));\n\nconst App = () => {\n  // const history = useHistory();\n  if (sessionStorage.getItem('data') == null) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  var sessionResult = sessionStorage.getItem('data') || '{}';\n  var obj = JSON.parse(sessionResult); // console.log(sessionResult)\n\n  var role = obj.Role;\n\n  if (role == \"admin\") {\n    var items = {\n      desktop: [{\n        id: \"home\",\n        children: \"Home\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Home\"\n      }, {\n        id: \"appointments\",\n        children: \"Appointments\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Appointments\",\n        options: {\n          isExternal: true\n        }\n      }, {\n        id: \"dashboard\",\n        children: \"Dashboard\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Dashboard\"\n      }, {\n        id: \"servicecounter\",\n        children: \"ServiceCounter\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"ServiceCounter\"\n      }]\n    };\n  } else {\n    var items = {\n      desktop: [{\n        id: \"home\",\n        children: \"Home\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Home\"\n      }, {\n        id: \"dashboard\",\n        children: \"Queue Dashboard\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Dashboard\"\n      }, {\n        id: \"View My Appoinment\",\n        children: \"View My Appoinment\",\n        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"ViewAllBookings\"\n      }]\n    };\n  } // history.push(`/dashboard`);\n  // var sessionResult = sessionStorage.getItem('data') || '{}'\n  // var obj = JSON.parse(sessionResult);\n  // console.log(sessionResult)\n\n\n  var name = obj.userName; // console.log(sessionResult)\n  // if(obj.role == 'citizen'){\n  //     return(\n  //     )\n  // }\n  // else{\n  // }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Layout.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"150px\",\n      marginBottom: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"divNavBar\",\n    style: {\n      height: \"150px\",\n      margin: \"20px\",\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    items: items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Text.H3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, \" Welcome, \", name), /*#__PURE__*/React.createElement(Text.Hyperlink.Default, {\n    href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Login\",\n    onClick: () => {\n      sessionStorage.removeItem('data');\n      sessionStorage.clear();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 37\n        }\n      }));\n    },\n    target: \"blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, \"Logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/edit/:id\",\n    component: Edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Create\",\n    component: Create,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Appointments\",\n    component: Appointments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/UpcomingAppointments\",\n    component: UpcomingAppointments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Dashboard\",\n    component: Dashboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/ServiceCounter\",\n    component: ServiceCounter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/ScanIC\",\n    component: ScanIC,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/BookingFound\",\n    component: BookingFound,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/ViewAllBookings\",\n    component: ViewAllBookings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    lastUpdated: new Date(),\n    addon: \"download\",\n    links: [[{\n      children: \"Home\",\n      href: \"https://www.life.gov.sg\"\n    }, {\n      children: \"How it works\",\n      href: \"https://www.life.gov.sg/#how-it-works\"\n    }, {\n      children: \"Ways we help\",\n      href: \"https://www.life.gov.sg/#ways-we-help\"\n    }, {\n      children: \"Campaigns\",\n      href: \"https://www.life.gov.sg/#campaigns\"\n    }, {\n      children: \"News and media\",\n      href: \"https://www.life.gov.sg/#newsandmedia\"\n    }], [{\n      children: \"About us\",\n      href: \"https://www.life.gov.sg/about-us\"\n    }, {\n      children: \"Help & Support\",\n      href: \"https://www.life.gov.sg/help-support\"\n    }, {\n      children: \"Get in touch with us\",\n      href: \"https://www.life.gov.sg/get-in-touch\"\n    }]],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default withRouter(App);","map":{"version":3,"sources":["C:/Users/junjie/Documents/GitHub/queue-system/frontend/src/App.tsx"],"names":["React","Route","Switch","withRouter","Edit","Create","Home","Appointments","UpcomingAppointments","ServiceCounter","Dashboard","ScanIC","BookingFound","Footer","Text","Layout","Navbar","ViewAllBookings","Login","console","log","sessionStorage","getItem","App","sessionResult","obj","JSON","parse","role","Role","items","desktop","id","children","href","process","env","REACT_APP_MY_EC2_ADDRESS","options","isExternal","name","userName","height","marginBottom","margin","display","removeItem","clear","Date"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Route, Link, Switch, useHistory, BrowserRouter, withRouter } from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport './index.css';\r\nimport 'toastr/build/toastr.min.css';\r\nimport Edit from './components/UpdateBooking';\r\nimport Create from './components/CreateNewBooking';\r\nimport Home from './components/Home'\r\nimport Appointments from './components/Appointments'\r\nimport UpcomingAppointments from './components/UpcomingAppointments'\r\nimport ServiceCounter from './components/ServiceCounter'\r\nimport Dashboard from './components/Dashboard';\r\nimport ScanIC from './components/scanic.component'\r\nimport BookingFound from './components/bookingfound.component';\r\n/** App.tsx **/\r\n\r\n\r\n// import React from \"react\";\r\nimport { Footer, Breadcrumb, Button, AlertBox, Text, Layout } from \"react-lifesg-design-system\";\r\n\r\n// require('dotenv').config();\r\n\r\n\r\n\r\nimport { Navbar } from 'react-lifesg-design-system'\r\nimport { INavbarItems } from 'react-lifesg-design-system/components/navbar/types';\r\nimport ViewAllBookings from './components/ViewAllBookings';\r\nimport { ButtonSave } from './common/components/form';\r\nimport Login from './components/Login';\r\n\r\ninterface CustomType {\r\n    isExternal?: boolean;\r\n}\r\n// var role = \"citizen\"\r\n// var sessionResult = sessionStorage.getItem('data') || '{}'\r\n//         var obj = JSON.parse(sessionResult);\r\n//         console.log(sessionResult)\r\n//         role = obj.Role\r\n\r\n\r\n// document.onreadystatechange = function(e)\r\n// {\r\n//     if (document.readyState === 'complete')\r\n//     {\r\n//         //dom is ready, window.onload fires later\r\n//         var sessionResult = sessionStorage.getItem('data') || '{}'\r\n//         var obj = JSON.parse(sessionResult);\r\n//         console.log(sessionResult)\r\n//         role = obj.Role\r\n//     }\r\n// };\r\n\r\n\r\n   \r\n\r\nconsole.log(sessionStorage.getItem('data'))\r\n\r\n\r\nconst App = () => {\r\n\r\n    // const history = useHistory();\r\n\r\n    if (sessionStorage.getItem('data') == null  ) {\r\n        \r\n        return (\r\n            <div>\r\n                <Login />\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    var sessionResult = sessionStorage.getItem('data') || '{}'\r\n    var obj = JSON.parse(sessionResult);\r\n        \r\n\r\n\r\n    // console.log(sessionResult)\r\n\r\n\r\n    var role = obj.Role\r\n\r\n        if(role == \"admin\"){\r\n            var items: INavbarItems<CustomType> = {\r\n\r\n    \r\n                desktop: [\r\n                    {\r\n                        id: \"home\",\r\n                        children: \"Home\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Home\"\r\n                    },\r\n                    {\r\n                        id: \"appointments\",\r\n                        children: \"Appointments\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Appointments\",\r\n                        options: {\r\n                            isExternal: true,\r\n                        },\r\n                    },\r\n                    {\r\n                        id: \"dashboard\",\r\n                        children: \"Dashboard\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Dashboard\"\r\n                    },\r\n                    {\r\n                        id: \"servicecounter\",\r\n                        children: \"ServiceCounter\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"ServiceCounter\"\r\n                    },\r\n            \r\n                ],\r\n            };\r\n        }\r\n        else{\r\n            var items: INavbarItems<CustomType> = {\r\n\r\n    \r\n                desktop: [\r\n                    {\r\n                        id: \"home\",\r\n                        children: \"Home\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Home\"\r\n                    },\r\n\r\n                    {\r\n                        id: \"dashboard\",\r\n                        children: \"Queue Dashboard\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"Dashboard\"\r\n                    },\r\n                    {\r\n                        id: \"View My Appoinment\",\r\n                        children: \"View My Appoinment\",\r\n                        href: process.env.REACT_APP_MY_EC2_ADDRESS + \"ViewAllBookings\"\r\n                    },\r\n            \r\n                ],\r\n            };\r\n        }\r\n\r\n        \r\n\r\n    // history.push(`/dashboard`);\r\n    // var sessionResult = sessionStorage.getItem('data') || '{}'\r\n    // var obj = JSON.parse(sessionResult);\r\n    // console.log(sessionResult)\r\n\r\n    var name = obj.userName\r\n    // console.log(sessionResult)\r\n    // if(obj.role == 'citizen'){\r\n    //     return(\r\n\r\n    //     )\r\n    // }\r\n    // else{\r\n        \r\n    // }\r\n    return (\r\n        <>\r\n        <Layout.Container>\r\n        <div>\r\n            <div style={{ height: \"150px\", marginBottom: \"150px\" }}>\r\n               \r\n                <div id='divNavBar' style={{ height: \"150px\", margin: \"20px\", display: \"block\" }}>\r\n                    <Navbar items={items} />\r\n\r\n                </div>\r\n                <div style={{  }}>\r\n                    <Text.H3> Welcome, {name}</Text.H3>\r\n                    <Text.Hyperlink.Default href={process.env.REACT_APP_MY_EC2_ADDRESS + \"Login\"} onClick={\r\n                        () => {\r\n                            sessionStorage.removeItem('data')\r\n                            sessionStorage.clear()\r\n                            return (\r\n                                <div>\r\n                                    <Login />\r\n\r\n                                </div>\r\n                            )\r\n                        }\r\n                    } target=\"blank\">Logout</Text.Hyperlink.Default>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n            <div>\r\n                <Switch>\r\n                    <Route exact path='/' component={Home} />\r\n                    <Route path='/edit/:id' component={Edit} />\r\n                    <Route path='/Home' component={Home} />\r\n                    <Route path='/Create' component={Create} />\r\n\r\n                    <Route path='/Appointments' component={Appointments} />\r\n                    <Route path='/UpcomingAppointments' component={UpcomingAppointments} />\r\n                    <Route path='/Dashboard' component={Dashboard} />\r\n                    <Route path='/ServiceCounter' component={ServiceCounter} />\r\n                    <Route path='/ScanIC' component={ScanIC} />\r\n                    <Route path='/BookingFound' component={BookingFound} />\r\n                    <Route path='/ViewAllBookings' component={ViewAllBookings} />\r\n                </Switch>\r\n            </div>\r\n\r\n\r\n\r\n            \r\n\r\n        </div>\r\n        </Layout.Container>\r\n\r\n        <div>\r\n        <Footer\r\n            lastUpdated={new Date()}\r\n            addon=\"download\"\r\n            links={[\r\n                [\r\n                    { children: \"Home\", href: \"https://www.life.gov.sg\" },\r\n                    {\r\n                        children: \"How it works\",\r\n                        href: \"https://www.life.gov.sg/#how-it-works\",\r\n                    },\r\n                    {\r\n                        children: \"Ways we help\",\r\n                        href: \"https://www.life.gov.sg/#ways-we-help\",\r\n                    },\r\n                    {\r\n                        children: \"Campaigns\",\r\n                        href: \"https://www.life.gov.sg/#campaigns\",\r\n                    },\r\n                    {\r\n                        children: \"News and media\",\r\n                        href: \"https://www.life.gov.sg/#newsandmedia\",\r\n                    },\r\n                ],\r\n                [\r\n                    {\r\n                        children: \"About us\",\r\n                        href: \"https://www.life.gov.sg/about-us\",\r\n                    },\r\n                    {\r\n                        children: \"Help & Support\",\r\n                        href: \"https://www.life.gov.sg/help-support\",\r\n                    },\r\n                    {\r\n                        children: \"Get in touch with us\",\r\n                        href: \"https://www.life.gov.sg/get-in-touch\",\r\n                    },\r\n                ],\r\n            ]}\r\n        />\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\nexport default withRouter(App)\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}