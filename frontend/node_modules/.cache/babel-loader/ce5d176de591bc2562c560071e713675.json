{"ast":null,"code":"var _jsxFileName = \"/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/ViewAllBookings.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport { Text, Layout, Accordion } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\nclass ViewAllBookings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: []\n    };\n    this.searchByLocation = this.searchByLocation.bind(this);\n  }\n\n  async searchByLocation() {\n    var apiURL;\n    apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/';\n    document.getElementById(\"divAppointments\").style.display = \"block\";\n    fetch(apiURL).then(function (response) {\n      return response.json();\n    }).then(myJson => {\n      this.state.bookings.length = 0;\n      myJson.data.forEach(element => {\n        var eachBooking = new Booking(element[\"_id\"], element[\"nric\"], element[\"citizenName\"], element[\"citizenSalutation\"], element[\"citizenEmail\"], element[\"citizenNumber\"], element[\"serviceName\"], element[\"serviceProviderName\"], element[\"serviceProviderEmail\"], element[\"serviceProviderPhone\"], element[\"serviceStartDate\"], element[\"serviceStartTime\"], element[\"serviceProviderLocation\"], element[\"bookingStatus\"]); // const bookings = this.state.bookings.slice(0);\n\n        this.state.bookings.push(eachBooking); // console.log(bookings)\n\n        this.setState({\n          bookings: this.state.bookings\n        });\n      });\n    });\n  }\n\n  render() {\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      id: \"divAppointments\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(StyledContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Text.H3, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Appointments\"), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"Government services appointments\"), /*#__PURE__*/React.createElement(Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Base, {\n      className: \"base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, this.state.bookings.map((input, index) => {\n      console.log(this.state.bookings);\n      return /*#__PURE__*/React.createElement(Accordion.Item, {\n        title: input.ServiceName,\n        key: index,\n        expanded: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Text.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 43\n        }\n      }, \"Citizen Name :\"), \"  \", input.CitizenName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 43\n        }\n      }, \"Citizen Number: \"), \" \", input.CitizenNumber), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 43\n        }\n      }, \"Citizen Email: \"), \" \", input.CitizenEmail), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 43\n        }\n      }, \"Service start date:\"), \"  \", input.ServiceStartDate), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 43\n        }\n      }, \"Service start time:\"), \"  \", input.ServiceStartTime), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 43\n        }\n      }, \"Service Name:\"), \"  \", input.ServiceName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 39\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 43\n        }\n      }, \"Service Provider Location:\"), \"  \", input.ServiceProviderLocation))));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default ViewAllBookings; // function closeModalFn(): (() => void) | undefined {\n//     throw new Error('Function not implemented.');\n// }\n// const [show, setShow ] = useState(false)\n// function closeModal(): (() => void) | undefined {\n//     document.getElementById(\"divModal\")!!.style.display = \"none\";\n//     throw new Error('Function not implemented.');\n// }\n// call checkPage once","map":{"version":3,"sources":["/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/ViewAllBookings.tsx"],"names":["React","Text","Layout","Accordion","styled","Booking","StyledContainer","GridContainer","StyledSection","Section","Main","main","ViewAllBookings","Component","constructor","props","state","bookings","searchByLocation","bind","apiURL","process","env","REACT_APP_MY_EC2_API_ADDRESS","document","getElementById","style","display","fetch","then","response","json","myJson","length","data","forEach","element","eachBooking","push","setState","render","map","input","index","console","log","ServiceName","CitizenName","CitizenNumber","CitizenEmail","ServiceStartDate","ServiceStartTime","ServiceProviderLocation"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport '../App.css';\nimport { Text, Button, Layout, BoxContainer, Breadcrumb, InputGroup, Accordion, InputSelect, Modal, RadioButton, } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\n\nimport { Container, Label, ModalContent, OptionContainer } from \"../models/doc-elements\";\n\n\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\n\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\ninterface MyState {\n    bookings: Booking[]\n}\n\n\n\n\nclass ViewAllBookings extends React.Component<{}, MyState> {\n\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            bookings: []\n\n\n        };\n        this.searchByLocation = this.searchByLocation.bind(this)\n    }\n\n    public async searchByLocation() {\n\n        var apiURL: string\n\n            apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/';\n            document.getElementById(\"divAppointments\")!!.style.display = \"block\";\n\n\n        fetch(apiURL)\n            .then(function (response) {\n                \n                return response.json();\n            })\n            .then((myJson) => {\n                this.state.bookings.length = 0;\n                myJson.data.forEach(element => {\n                    var eachBooking = new Booking(\n                        element[\"_id\"],\n                        element[\"nric\"],\n                        element[\"citizenName\"],\n                        element[\"citizenSalutation\"],\n                        element[\"citizenEmail\"],\n                        element[\"citizenNumber\"],\n                        element[\"serviceName\"],\n                        element[\"serviceProviderName\"],\n                        element[\"serviceProviderEmail\"],\n                        element[\"serviceProviderPhone\"],\n                        element[\"serviceStartDate\"],\n                        element[\"serviceStartTime\"],\n                        element[\"serviceProviderLocation\"],\n                        element[\"bookingStatus\"]\n                    );\n\n                    \n                    // const bookings = this.state.bookings.slice(0);\n                    this.state.bookings.push(eachBooking)\n                    // console.log(bookings)\n\n                    this.setState({\n                        bookings: this.state.bookings,\n                    });\n\n                });\n            });\n    }\n\n    render() {\n\n      \n      <div id='divAppointments' style={{display:'none'}}>\n\n\n      <StyledContainer>\n          <Text.H3>Appointments</Text.H3>\n          <Text.Body>Government services appointments</Text.Body>\n          <Main>\n\n         \n\n\n              <Accordion.Base className='base' >\n                  {this.state.bookings.map((input, index) => {\n\n                      console.log(this.state.bookings)\n                      return (\n                          <Accordion.Item title={input.ServiceName} key={index} expanded={false}>\n                              <Text.Body>\n                                  <ul>\n                                      <li>\n                                          <b>Citizen Name :</b>  {input.CitizenName}\n                                      </li>\n                                      <li>\n                                          <b>Citizen Number: </b> {input.CitizenNumber}\n                                      </li>\n                                      <li>\n                                          <b>Citizen Email: </b> {input.CitizenEmail}\n                                      </li>\n                                      <li>\n                                          <b>Service start date:</b>  {input.ServiceStartDate}\n                                      </li>\n                                      <li>\n                                          <b>Service start time:</b>  {input.ServiceStartTime}\n                                      </li>\n                                      <li>\n                                          <b>Service Name:</b>  {input.ServiceName}\n                                      </li>\n                                      <li>\n                                          <b>Service Provider Location:</b>  {input.ServiceProviderLocation}\n                                      </li>\n                                  </ul>\n\n                                  {/* <Button.Default\n                                      onClick={() => this.checkPage(this.handle200, input.Id!!, input.Nric, input.CitizenName, input.CitizenEmail, input.CitizenNumber)}\n                                  >Send to Queue</Button.Default> */}\n                              </Text.Body>\n                          </Accordion.Item>\n                      )\n                  })}\n              </Accordion.Base>\n\n          </Main>\n          <div className=\"spacer3\"></div>\n      </StyledContainer>\n\n      </div>\n    }\n\n    \n\n\n}\n\nexport default ViewAllBookings;\n\n\n\n\n\n\n// function closeModalFn(): (() => void) | undefined {\n//     throw new Error('Function not implemented.');\n// }\n// const [show, setShow ] = useState(false)\n// function closeModal(): (() => void) | undefined {\n//     document.getElementById(\"divModal\")!!.style.display = \"none\";\n//     throw new Error('Function not implemented.');\n// }\n// call checkPage once\n\n"]},"metadata":{},"sourceType":"module"}