{"ast":null,"code":"import React from \"react\";\nimport Booking from \"../models/booking\";\nimport BaseService from \"../service/base.service\";\nimport { Layout } from 'react-lifesg-design-system';\nimport * as toastr from \"toastr\";\nimport styled from \"styled-components\";\nimport { render } from \"react-dom\";\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\nfunction Del(Id) {\n  BaseService.delete(\"/booking/del/\", {\n    id: Id\n  }).then(rp => {\n    if (rp.Status) {\n      toastr.success(\"Member saved.\");\n      window.location.reload();\n    } else {\n      toastr.error(rp.Messages);\n      console.log(\"Messages: \" + rp.Messages);\n      console.log(\"Exception: \" + rp.Exception);\n    }\n  });\n} // interface MyState {\n//   bookings: Booking[],\n// }\n\n\nvar sessionResult = sessionStorage.getItem('data') || '{}';\nvar obj = JSON.parse(sessionResult);\nconsole.log(sessionResult);\nvar nric = obj.NRIC;\nconsole.log(nric);\nvar bookings;\nvar apiURL;\napiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/' + nric;\nconsole.log(apiURL);\ndocument.getElementById(\"divAppointments\").style.display = \"block\";\nfetch(apiURL).then(function (response) {\n  console.log(\"Testttttt\");\n  return response.json();\n}).then(myJson => {\n  myJson.data.forEach(element => {\n    var eachBooking = new Booking(element[\"_id\"], element[\"nric\"], element[\"citizenName\"], element[\"citizenSalutation\"], element[\"citizenEmail\"], element[\"citizenNumber\"], element[\"serviceName\"], element[\"serviceProviderName\"], element[\"serviceProviderEmail\"], element[\"serviceProviderPhone\"], element[\"serviceStartDate\"], element[\"serviceStartTime\"], element[\"serviceProviderLocation\"], element[\"bookingStatus\"]);\n    bookings.push(eachBooking); // const bookings = bookings.slice(0);\n    // bookings.push(eachBooking)\n    // console.log(book1!ings)\n\n    console.log(\"test\");\n  });\n}).then(render);\n\nclass ViewAllBookings extends React.Component {\n  constructor(props) {\n    super(props); // this.state = {\n    //   bookings: [],\n    // };\n  } // public async searchByNRIC() {\n  // }\n\n\n}\n\nexport default ViewAllBookings;","map":{"version":3,"sources":["/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/ViewAllBookings.tsx"],"names":["React","Booking","BaseService","Layout","toastr","styled","render","StyledContainer","GridContainer","StyledSection","Section","Main","main","Del","Id","delete","id","then","rp","Status","success","window","location","reload","error","Messages","console","log","Exception","sessionResult","sessionStorage","getItem","obj","JSON","parse","nric","NRIC","bookings","apiURL","process","env","REACT_APP_MY_EC2_API_ADDRESS","document","getElementById","style","display","fetch","response","json","myJson","data","forEach","element","eachBooking","push","ViewAllBookings","Component","constructor","props"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Booking from \"../models/booking\";\nimport BaseService from \"../service/base.service\";\nimport { Text, Button, Layout, BoxContainer, Breadcrumb, InputGroup, Accordion, InputSelect, Modal, RadioButton, } from 'react-lifesg-design-system';\n\nimport * as toastr from \"toastr\";\nimport styled from \"styled-components\";\nimport { render } from \"react-dom\";\n\n\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\n\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\n\nfunction Del(Id?: string) {\n  BaseService.delete(\"/booking/del/\", {\n    id: Id,\n  }).then((rp) => {\n    if (rp.Status) {\n      toastr.success(\"Member saved.\");\n      window.location.reload();\n    } else {\n      toastr.error(rp.Messages);\n      console.log(\"Messages: \" + rp.Messages);\n      console.log(\"Exception: \" + rp.Exception);\n    }\n  });\n}\n\n// interface MyState {\n//   bookings: Booking[],\n\n// }\n\n\n\nvar sessionResult = sessionStorage.getItem('data') || '{}'\nvar obj = JSON.parse(sessionResult);\nconsole.log(sessionResult)\n\nvar nric = obj.NRIC\n\nconsole.log(nric)\nvar bookings: Booking[]\n\n\nvar apiURL: string\n\napiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/' + nric;\nconsole.log(apiURL)\ndocument.getElementById(\"divAppointments\")!!.style.display = \"block\";\n\n\n  fetch(apiURL)\n      .then(function (response) {\n        console.log(\"Testttttt\")\n        return response.json();\n      })\n      .then((myJson) => {\n        myJson.data.forEach(element => {\n          var eachBooking = new Booking(\n            element[\"_id\"],\n            element[\"nric\"],\n            element[\"citizenName\"],\n            element[\"citizenSalutation\"],\n            element[\"citizenEmail\"],\n            element[\"citizenNumber\"],\n            element[\"serviceName\"],\n            element[\"serviceProviderName\"],\n            element[\"serviceProviderEmail\"],\n            element[\"serviceProviderPhone\"],\n            element[\"serviceStartDate\"],\n            element[\"serviceStartTime\"],\n            element[\"serviceProviderLocation\"],\n            element[\"bookingStatus\"]\n          );\n\n          bookings.push(eachBooking)\n\n\n          // const bookings = bookings.slice(0);\n          // bookings.push(eachBooking)\n          // console.log(book1!ings)\n          console.log(\"test\")\n\n        });\n      }).then(\n        render\n      )\n      ;\n\n\n\n\n\nclass ViewAllBookings extends React.Component<{}, {}> {\n\n  constructor(props) {\n    super(props);\n    // this.state = {\n    //   bookings: [],\n\n\n    // };\n\n\n  }\n\n\n\n  // public async searchByNRIC() {\n\n\n  // }\n\n  \n\n  \n}\n\nexport default ViewAllBookings;\n"]},"metadata":{},"sourceType":"module"}