{"ast":null,"code":"var _jsxFileName = \"/Users/lowqilong/Desktop/FYP/queue-system/frontend/src/components/DashboardHPB.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport { Banner, Layout } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledSection = styled(Layout.Section)`\n    min-height: 700px;\n`;\n_c = StyledSection;\nvar numberInQueueArrayCommunityHealth = [];\nvar numberInQueueArrayWorkplaceHealth = [];\nvar numberMissedArrayCommunityHealth = [];\nvar numberMissedArrayWorkplaceHealth = [];\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      callingQueueNumberCommunityHealth: '-',\n      callingQueueNumberWorkplaceHealth: '-',\n      upcomingQueueNumberCommunityHealth: '-',\n      upcomingQueuenumberWorkplaceHealth: '-',\n      MissedNumberCommunityHealth: '-',\n      MissedNumberWorkplaceHealth: '-'\n    };\n    this.loadData = this.loadData.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n    setInterval(this.loadData, 3000);\n  }\n\n  async loadData() {\n    try {\n      const res = await fetch(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + 'api/booking');\n      const blocks = await res.json();\n      const data = blocks.data;\n      var communityHealthIsCalling = false;\n      var workplaceHealthIsCalling = false;\n      var communityHealthMissingDisplay = false;\n      var workplaceHealthMissingDisplay = false;\n      var communityHealthQueueingDisplay = false;\n      var workplaceHealthQueueingDisplay = false;\n\n      if (communityHealthIsCalling == false) {\n        this.setState({\n          callingQueueNumberCommunityHealth: '-'\n        });\n      }\n\n      if (workplaceHealthIsCalling == false) {\n        this.setState({\n          callingQueueNumberWorkplaceHealth: '-'\n        });\n      }\n\n      if (communityHealthMissingDisplay == false) {\n        this.setState({\n          MissedNumberCommunityHealth: '-'\n        });\n      }\n\n      if (workplaceHealthMissingDisplay == false) {\n        this.setState({\n          MissedNumberWorkplaceHealth: '-'\n        });\n      }\n\n      if (communityHealthQueueingDisplay == false) {\n        this.setState({\n          upcomingQueueNumberCommunityHealth: '-'\n        });\n      }\n\n      if (workplaceHealthQueueingDisplay == false) {\n        this.setState({\n          upcomingQueuenumberWorkplaceHealth: '-'\n        });\n      }\n\n      numberInQueueArrayCommunityHealth.length = 0;\n      numberInQueueArrayWorkplaceHealth.length = 0;\n      numberMissedArrayCommunityHealth.length = 0;\n      numberMissedArrayWorkplaceHealth.length = 0;\n      data.forEach(element => {\n        console.log(element);\n\n        if (element.bookingStatus == 'communityHealth-Calling') {\n          this.setState({\n            callingQueueNumberCommunityHealth: element.queueNumber.toString()\n          });\n        }\n\n        if (element.bookingStatus == 'workplaceHealth-Calling') {\n          this.setState({\n            callingQueueNumberWorkplaceHealth: element.queueNumber.toString()\n          });\n        }\n\n        if (element.bookingStatus == 'communityHealth-Queued') {\n          communityHealthQueueingDisplay = true;\n          numberInQueueArrayCommunityHealth.push(element.queueNumber.toString());\n        }\n\n        if (element.bookingStatus == 'workplaceHealth-Queued') {\n          workplaceHealthQueueingDisplay = true;\n          numberInQueueArrayWorkplaceHealth.push(element.queueNumber.toString());\n        }\n\n        if (element.bookingStatus == 'communityHealth-Missed') {\n          console.log(element.queueNumber.toString());\n          communityHealthMissingDisplay = true;\n          numberMissedArrayCommunityHealth.push(element.queueNumber.toString());\n        }\n\n        if (element.bookingStatus == 'workplaceHealth-Missed') {\n          workplaceHealthMissingDisplay = true;\n          numberMissedArrayWorkplaceHealth.push(element.queueNumber.toString());\n        }\n\n        if (numberInQueueArrayCommunityHealth.length != 0 && communityHealthQueueingDisplay == true) {\n          this.setState({\n            upcomingQueueNumberCommunityHealth: numberInQueueArrayCommunityHealth[0]\n          });\n        }\n\n        if (numberInQueueArrayWorkplaceHealth.length != 0 && workplaceHealthQueueingDisplay == true) {\n          this.setState({\n            upcomingQueuenumberWorkplaceHealth: numberInQueueArrayWorkplaceHealth[0]\n          });\n        }\n\n        if (numberMissedArrayCommunityHealth.length != 0 && communityHealthMissingDisplay == true) {\n          this.setState({\n            MissedNumberCommunityHealth: numberMissedArrayCommunityHealth[0]\n          });\n        }\n\n        if (numberMissedArrayWorkplaceHealth.length != 0 && workplaceHealthMissingDisplay == true) {\n          this.setState({\n            MissedNumberWorkplaceHealth: numberMissedArrayWorkplaceHealth[0]\n          });\n        }\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(StyledSection, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"columnHalf rcorner\",\n            style: {\n              'zIndex': '-1'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Banner, {\n              \"aria-label\": \"career-advice\",\n              imgset: {\n                desktop: 'https://media.istockphoto.com/vectors/abstract-wavy-halftone-dots-background-vector-id1225681170?k=20&m=1225681170&s=612x612&w=0&h=qFzphEqIRbzXBdzL3kqcfwS2ULgmOpIRFYi_2WSgCto=',\n                mobile: 'https://media.istockphoto.com/vectors/abstract-wavy-halftone-dots-background-vector-id1225681170?k=20&m=1225681170&s=612x612&w=0&h=qFzphEqIRbzXBdzL3kqcfwS2ULgmOpIRFYi_2WSgCto='\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  'margin': 'auto'\n                },\n                children: \"CommunityHealth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 84\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Current Serving:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'lightgreen',\n                'margin': 0,\n                'fontSize': 80\n              },\n              children: this.state.callingQueueNumberCommunityHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Upcoming Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'orange',\n                'fontSize': 80\n              },\n              children: this.state.upcomingQueueNumberCommunityHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Missed Queue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'red',\n                'fontSize': 80\n              },\n              children: this.state.MissedNumberCommunityHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"columnHalf rcorner\",\n            children: [/*#__PURE__*/_jsxDEV(Banner, {\n              \"aria-label\": \"career-advice\",\n              imgset: {\n                desktop: 'https://t3.ftcdn.net/jpg/01/98/05/16/360_F_198051606_qB9GmDGg79tCtoiHkuTtYAQlqpN6feyL.jpg',\n                mobile: 'https://t3.ftcdn.net/jpg/01/98/05/16/360_F_198051606_qB9GmDGg79tCtoiHkuTtYAQlqpN6feyL.jpg'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  'margin': 'auto'\n                },\n                children: \"WorkplaceHealth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Current Serving:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'lightgreen',\n                'margin': 0,\n                'fontSize': 80\n              },\n              children: this.state.callingQueueNumberWorkplaceHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Upcoming Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'orange',\n                'fontSize': 80\n              },\n              children: this.state.upcomingQueuenumberWorkplaceHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                style: {\n                  'color': 'grey',\n                  'fontSize': 18\n                },\n                children: \"Missed Queue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              style: {\n                'color': 'red',\n                'fontSize': 80\n              },\n              children: this.state.MissedNumberWorkplaceHealth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"StyledSection\");","map":{"version":3,"sources":["/Users/lowqilong/Desktop/FYP/queue-system/frontend/src/components/DashboardHPB.tsx"],"names":["React","Banner","Layout","styled","StyledSection","Section","numberInQueueArrayCommunityHealth","numberInQueueArrayWorkplaceHealth","numberMissedArrayCommunityHealth","numberMissedArrayWorkplaceHealth","Dashboard","Component","constructor","props","state","callingQueueNumberCommunityHealth","callingQueueNumberWorkplaceHealth","upcomingQueueNumberCommunityHealth","upcomingQueuenumberWorkplaceHealth","MissedNumberCommunityHealth","MissedNumberWorkplaceHealth","loadData","bind","componentDidMount","setInterval","res","fetch","process","env","REACT_APP_APPOINTMENT_API_ADDRESS","blocks","json","data","communityHealthIsCalling","workplaceHealthIsCalling","communityHealthMissingDisplay","workplaceHealthMissingDisplay","communityHealthQueueingDisplay","workplaceHealthQueueingDisplay","setState","length","forEach","element","console","log","bookingStatus","queueNumber","toString","push","e","render","desktop","mobile"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport { Banner, Layout } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\n\nconst StyledSection = styled(Layout.Section)`\n    min-height: 700px;\n`;\n\n\ninterface MyState {\n    callingQueueNumberCommunityHealth: string,\n    callingQueueNumberWorkplaceHealth: string,\n    upcomingQueueNumberCommunityHealth: string,\n    upcomingQueuenumberWorkplaceHealth: string,\n    MissedNumberCommunityHealth: string,\n    MissedNumberWorkplaceHealth: string\n}\n\n\nvar numberInQueueArrayCommunityHealth: string[] = [];\nvar numberInQueueArrayWorkplaceHealth: string[] = [];\n\nvar numberMissedArrayCommunityHealth: string[] = [];\nvar numberMissedArrayWorkplaceHealth: string[] = [];\n\nclass Dashboard extends React.Component<{}, MyState> {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            callingQueueNumberCommunityHealth: '-',\n            callingQueueNumberWorkplaceHealth: '-',\n            upcomingQueueNumberCommunityHealth: '-',\n            upcomingQueuenumberWorkplaceHealth: '-',\n            MissedNumberCommunityHealth: '-',\n            MissedNumberWorkplaceHealth: '-'\n        };\n        this.loadData = this.loadData.bind(this)\n    }\n\n    componentDidMount() {\n        this.loadData();\n        setInterval(this.loadData, 3000);\n    }\n\n    async loadData() {\n\n\n        try {\n            const res = await fetch(process.env.REACT_APP_APPOINTMENT_API_ADDRESS + 'api/booking');\n            const blocks = await res.json();\n            const data = blocks.data;\n\n            var communityHealthIsCalling = false;\n            var workplaceHealthIsCalling = false;\n\n            var communityHealthMissingDisplay = false;\n            var workplaceHealthMissingDisplay = false;\n\n            var communityHealthQueueingDisplay = false;\n            var workplaceHealthQueueingDisplay = false;\n\n            if(communityHealthIsCalling== false){\n                this.setState({\n                    callingQueueNumberCommunityHealth: '-'\n                })\n            }\n\n            if(workplaceHealthIsCalling== false){\n                this.setState({\n                    callingQueueNumberWorkplaceHealth: '-'\n                })\n            }\n            if(communityHealthMissingDisplay== false){\n                this.setState({\n                    MissedNumberCommunityHealth: '-'\n                })\n            }\n\n            if(workplaceHealthMissingDisplay== false){\n                this.setState({\n                    MissedNumberWorkplaceHealth: '-'\n                })\n            }\n            if(communityHealthQueueingDisplay== false){\n                this.setState({\n                    upcomingQueueNumberCommunityHealth: '-'\n                })\n            }\n\n            if(workplaceHealthQueueingDisplay== false){\n                this.setState({\n                    upcomingQueuenumberWorkplaceHealth: '-'\n                })\n            }\n\n        numberInQueueArrayCommunityHealth.length = 0\n        numberInQueueArrayWorkplaceHealth.length = 0\n\n        numberMissedArrayCommunityHealth.length = 0\n        numberMissedArrayWorkplaceHealth.length = 0\n\n            data.forEach(element => {\n                console.log(element)\n                if (element.bookingStatus == 'communityHealth-Calling' ) {\n                    this.setState({\n                        callingQueueNumberCommunityHealth: element.queueNumber.toString()\n                    })\n                }\n                if (element.bookingStatus == 'workplaceHealth-Calling' ) {\n                    this.setState({\n                        callingQueueNumberWorkplaceHealth: element.queueNumber.toString()\n                    })\n                }\n\n\n\n                if (element.bookingStatus == 'communityHealth-Queued' ) {\n                    communityHealthQueueingDisplay = true;\n                    numberInQueueArrayCommunityHealth.push(element.queueNumber.toString())\n                }\n                if (element.bookingStatus == 'workplaceHealth-Queued' ) {\n                    workplaceHealthQueueingDisplay = true;\n                    numberInQueueArrayWorkplaceHealth.push(element.queueNumber.toString())\n                }\n               \n                \n                if (element.bookingStatus == 'communityHealth-Missed' ) {\n                    console.log(element.queueNumber.toString())\n                    communityHealthMissingDisplay = true;\n                    numberMissedArrayCommunityHealth.push(element.queueNumber.toString())\n                }\n                if (element.bookingStatus == 'workplaceHealth-Missed' ) {\n                    workplaceHealthMissingDisplay = true;\n                    numberMissedArrayWorkplaceHealth.push(element.queueNumber.toString())\n                }\n       \n\n\n           \n  \n\n\n                if(numberInQueueArrayCommunityHealth.length != 0 && communityHealthQueueingDisplay == true){\n                    this.setState({\n                        upcomingQueueNumberCommunityHealth: numberInQueueArrayCommunityHealth[0]\n                    })\n                }\n                if(numberInQueueArrayWorkplaceHealth.length != 0 && workplaceHealthQueueingDisplay == true ){\n                    this.setState({\n                        upcomingQueuenumberWorkplaceHealth: numberInQueueArrayWorkplaceHealth[0]\n                    })\n                }\n                if(numberMissedArrayCommunityHealth.length != 0 && communityHealthMissingDisplay == true){\n                    this.setState({\n                        MissedNumberCommunityHealth: numberMissedArrayCommunityHealth[0]\n                    })\n                }\n                if(numberMissedArrayWorkplaceHealth.length != 0 && workplaceHealthMissingDisplay == true){\n                    this.setState({\n                        MissedNumberWorkplaceHealth: numberMissedArrayWorkplaceHealth[0]\n                    })\n                }\n\n\n\n\n\n\n\n\n\n\n            });\n\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n\n    render() {\n        return (\n            <StyledSection>\n            <div>\n\n                <div className=\"row\">\n                    <div className=\"columnHalf rcorner\" style={{ 'zIndex': '-1' }}><Banner aria-label=\"career-advice\" imgset={{\n                        desktop: 'https://media.istockphoto.com/vectors/abstract-wavy-halftone-dots-background-vector-id1225681170?k=20&m=1225681170&s=612x612&w=0&h=qFzphEqIRbzXBdzL3kqcfwS2ULgmOpIRFYi_2WSgCto=',\n                        mobile: 'https://media.istockphoto.com/vectors/abstract-wavy-halftone-dots-background-vector-id1225681170?k=20&m=1225681170&s=612x612&w=0&h=qFzphEqIRbzXBdzL3kqcfwS2ULgmOpIRFYi_2WSgCto='\n                    }}>\n                        <span style={{ 'margin': 'auto' }}>CommunityHealth</span>\n                    </Banner>\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Current Serving:</a>\n                        </div>\n                        <b style={{ 'color': 'lightgreen', 'margin': 0, 'fontSize': 80 }}>{this.state.callingQueueNumberCommunityHealth}</b>\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Upcoming Number:</a>\n                        </div>\n\n                        <b style={{ 'color': 'orange', 'fontSize': 80 }}>{this.state.upcomingQueueNumberCommunityHealth}</b>\n\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Missed Queue:</a>\n                        </div>\n\n                        <b style={{ 'color': 'red', 'fontSize': 80 }}>{this.state.MissedNumberCommunityHealth}</b>\n                    </div>\n                    <div className=\"columnHalf rcorner\"><Banner aria-label=\"career-advice\" imgset={{\n                        desktop: 'https://t3.ftcdn.net/jpg/01/98/05/16/360_F_198051606_qB9GmDGg79tCtoiHkuTtYAQlqpN6feyL.jpg',\n                        mobile: 'https://t3.ftcdn.net/jpg/01/98/05/16/360_F_198051606_qB9GmDGg79tCtoiHkuTtYAQlqpN6feyL.jpg'\n                    }}>\n                        <span style={{ 'margin': 'auto' }}>WorkplaceHealth</span>\n                    </Banner>\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Current Serving:</a>\n                        </div>\n                        <b style={{ 'color': 'lightgreen', 'margin': 0, 'fontSize': 80 }}>{this.state.callingQueueNumberWorkplaceHealth}</b>\n\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Upcoming Number:</a>\n                        </div>\n\n                        <b style={{ 'color': 'orange', 'fontSize': 80 }}>{this.state.upcomingQueuenumberWorkplaceHealth}</b>\n\n                        <div>\n                            <a style={{ 'color': 'grey', 'fontSize': 18 }}>Missed Queue:</a>\n                        </div>\n\n                        <b style={{ 'color': 'red', 'fontSize': 80 }}>{this.state.MissedNumberWorkplaceHealth}</b>\n                    </div>\n\n                </div>\n            </div>\n            </StyledSection>\n        )\n    }\n\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}