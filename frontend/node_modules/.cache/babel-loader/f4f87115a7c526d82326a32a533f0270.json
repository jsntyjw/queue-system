{"ast":null,"code":"var _jsxFileName = \"/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/ServiceCounter.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport { Text, Button, Layout, Breadcrumb, BoxContainer, InputSelect, Modal } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\nimport { ModalContent } from \"../models/doc-elements\";\nimport BaseService from '../service/base.service';\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\nclass ServiceCounter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      _bookingId: \"\",\n      nric: \"\",\n      citizenName: \"\",\n      citizenNumber: \"\",\n      citizenEmail: \"\",\n      inputValue: \"\",\n      queueNumber: \"\",\n      showModal: false,\n      citizenSalutation: \"\",\n      serviceName: \"\",\n      serviceProviderEmail: \"\",\n      serviceProviderName: \"\",\n      serviceStartDate: \"\",\n      serviceProviderPhone: \"\",\n      serviceStartTime: \"\",\n      serviceProviderLocation: \"\",\n      bookingStatus: \"\"\n    };\n    this.consumeQueue = this.consumeQueue.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(StyledSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Base, {\n      show: this.state.showModal,\n      animationFrom: \"bottom\",\n      enableOverlayClick: true // onOverlayClick={closeModal()}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Box, {\n      onClose: () => {\n        this.setState({\n          showModal: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ModalContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"Send to queue succesfully\")))), /*#__PURE__*/React.createElement(Layout.Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      links: [{\n        title: 'Home',\n        url: 'http://localhost:3000/ServiceCounter'\n      }, {\n        title: 'Service Counter'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divButtonNextPatient\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button.Default, {\n      className: \"buttonsuccess\",\n      onClick: () => this.consumeQueue(this.handle200, \"nextPatient\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Next Patient\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"divCurrentCitizen\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Layout.GridContainer, {\n      className: \"column2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Text.H3, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, \"Currently Serving\"), /*#__PURE__*/React.createElement(Text.H5, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, \"Current Queue Number : \", this.state.queueNumber), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(BoxContainer, {\n      title: \"Citizen Information\",\n      collapsible: false,\n      className: \"textleft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: \"2rem\",\n        minWidth: \"1080px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Layout.GridContainer, {\n      className: \"column4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Text.Body, {\n      weight: \"semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 45\n      }\n    }, \"NRIC\"), /*#__PURE__*/React.createElement(Text.Body, {\n      weight: \"semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 45\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Text.Body, {\n      weight: \"semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 45\n      }\n    }, \"Phone Number\"), /*#__PURE__*/React.createElement(Text.Body, {\n      weight: \"semibold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 45\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }, this.state.nric), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 45\n      }\n    }, this.state.citizenName), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 45\n      }\n    }, this.state.citizenNumber), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 45\n      }\n    }, this.state.citizenEmail)))), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, \"Next service: \"))), /*#__PURE__*/React.createElement(Layout.GridContainer, {\n      className: \"column4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputSelect, {\n      placeholder: \"Select\",\n      options: [{\n        value: \"payment\",\n        label: \"Payment\"\n      }, {\n        value: \"pharmacy\",\n        label: \"Pharmacy\"\n      }],\n      valueExtractor: item => item.value,\n      listExtractor: item => item.label,\n      displayValueExtractor: item => item.label,\n      onSelectItem: (item, selectedValue) => {\n        this.setState({\n          inputValue: selectedValue\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button.Default, {\n      onClick: () => this.consumeQueue(this.handle200, \"sendtoNextService\", this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenEmail, this.state.citizenNumber),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, \"Send to next service\"))));\n  }\n\n  handle200(response) {\n    console.log('handle200 has received:', response);\n  }\n\n  consumeQueue(callback, buttonSelected, bookingId, nric, citizenName, citizenEmail, citizenNumber, queueNumber) {\n    var respectiveURL = \"\";\n\n    if (buttonSelected == \"nextPatient\") {\n      respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=doctorQueue\";\n    } else {\n      const queueObject = {\n        \"_id\": bookingId,\n        \"nric\": nric,\n        \"citizenName\": citizenName,\n        \"citizenEmail\": citizenEmail,\n        \"citizenNumber\": citizenNumber,\n        \"queueNumber\": queueNumber\n      };\n      var myJSON = encodeURI(JSON.stringify(queueObject));\n      console.log(\"---------------\");\n      console.log(queueObject);\n      respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId + \"&exchangeID=hospital&bindingKey=\" + this.state.inputValue + \"&bookingDetails=\" + myJSON; // respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=\" + this.state.inputValue\n      // console.log(respectiveURL + \"--------------\")\n    }\n\n    const xhr = new XMLHttpRequest(),\n          method = \"GET\",\n          url = respectiveURL; // initialize a new GET request\n\n    xhr.open(method, url, true); // respond to every readyState change\n\n    xhr.onreadystatechange = () => {\n      // ignore all readyStates other than \"DONE\"\n      if (xhr.readyState !== XMLHttpRequest.DONE) {\n        return;\n      } // call the callback with status\n\n\n      if (xhr.status === 200) {\n        console.log(xhr.responseText);\n        this.setState({\n          _bookingId: JSON.parse(xhr.responseText)._id,\n          nric: JSON.parse(xhr.responseText).nric,\n          citizenName: JSON.parse(xhr.responseText).citizenName,\n          citizenEmail: JSON.parse(xhr.responseText).citizenEmail,\n          citizenNumber: JSON.parse(xhr.responseText).citizenNumber,\n          citizenSalutation: JSON.parse(xhr.responseText).citizenSalutation,\n          queueNumber: JSON.parse(xhr.responseText).queueNumber,\n          serviceName: JSON.parse(xhr.responseText).serviceName,\n          serviceProviderEmail: JSON.parse(xhr.responseText).serviceProviderEmail,\n          serviceProviderName: JSON.parse(xhr.responseText).serviceProviderName,\n          serviceStartDate: JSON.parse(xhr.responseText).serviceStartDate,\n          serviceProviderPhone: JSON.parse(xhr.responseText).serviceProviderPhone,\n          serviceStartTime: JSON.parse(xhr.responseText).serviceStartTime,\n          serviceProviderLocation: JSON.parse(xhr.responseText).serviceProviderLocation,\n          bookingStatus: JSON.parse(xhr.responseText).bookingStatus\n        });\n        var calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n\n        if (buttonSelected == \"nextPatient\") {\n          document.getElementById(\"divCurrentCitizen\").style.display = \"block\";\n          document.getElementById(\"divButtonNextPatient\").style.display = \"none\";\n          calledBooking.BookingStatus = \"Doctor\";\n          BaseService.update(\"/booking/update/\", this.state._bookingId, calledBooking).then(rp => {\n            if (rp.Status) {\n              console.log('Booking saved.');\n            } else {\n              console.log(rp.Messages);\n              console.log(\"Messages: \" + rp.Messages);\n              console.log(\"Exception: \" + rp.Exception);\n            }\n          });\n        }\n\n        if (buttonSelected == \"sendtoNextService\") {\n          this.setState({\n            showModal: true\n          });\n          document.getElementById(\"divCurrentCitizen\").style.display = \"none\";\n          document.getElementById(\"divButtonNextPatient\").style.display = \"block\";\n          calledBooking.BookingStatus = \"Payment\";\n          BaseService.update(\"/booking/update/\", this.state._bookingId, calledBooking).then(rp => {\n            if (rp.Status) {\n              console.log('Booking saved.');\n            } else {\n              console.log(rp.Messages);\n              console.log(\"Messages: \" + rp.Messages);\n              console.log(\"Exception: \" + rp.Exception);\n            }\n          });\n        } // console.log(JSON.parse(xhr.responseText));\n\n\n        return callback(xhr.status);\n      } // got something other than 200,\n      // re-initialize and send another GET request\n\n\n      xhr.open(method, url, true);\n      xhr.send();\n    }; // send the initial GET request\n\n\n    xhr.send();\n  }\n\n}\n\nexport default ServiceCounter; // function foundResult(_id: any, nric: any, citizenNumber: any, citizenEmail: any, citizenName: any)  {\n//      queueObject = {\n//         \"_id\" :_id,\n//         \"nric\":nric,\n//         \"citizenName\":citizenName,\n//         \"citizenEmail\":citizenEmail,\n//         \"citizenNumber\":citizenNumber\n//     }\n//     console.log(queueObject)\n// }","map":{"version":3,"sources":["/Users/jeffrey/Documents/GitHub/queue-system/frontend/src/components/ServiceCounter.tsx"],"names":["React","Text","Button","Layout","Breadcrumb","BoxContainer","InputSelect","Modal","styled","Booking","ModalContent","BaseService","StyledSection","Section","ServiceCounter","Component","constructor","props","state","_bookingId","nric","citizenName","citizenNumber","citizenEmail","inputValue","queueNumber","showModal","citizenSalutation","serviceName","serviceProviderEmail","serviceProviderName","serviceStartDate","serviceProviderPhone","serviceStartTime","serviceProviderLocation","bookingStatus","consumeQueue","bind","render","setState","title","url","handle200","display","padding","minWidth","value","label","item","selectedValue","response","console","log","callback","buttonSelected","bookingId","respectiveURL","queueObject","myJSON","encodeURI","JSON","stringify","xhr","XMLHttpRequest","method","open","onreadystatechange","readyState","DONE","status","responseText","parse","_id","calledBooking","document","getElementById","style","BookingStatus","update","then","rp","Status","Messages","Exception","send"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,SACIC,IADJ,EAEIC,MAFJ,EAGIC,MAHJ,EAIIC,UAJJ,EAKIC,YALJ,EAMIC,WANJ,EAOIC,KAPJ,QAQO,4BARP;AASA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,OAAP,MAAoB,mBAApB;AAGA,SAASC,YAAT,QAA6B,wBAA7B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AAQA,MAAMC,aAAa,GAAGJ,MAAM,CAACL,MAAM,CAACU,OAAR,CAAiB;AAC7C;AACA;AACA,CAHA;;AA2BA,MAAMC,cAAN,SAA6Bd,KAAK,CAACe,SAAnC,CAA0D;AACtDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,EADH;AAETC,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,WAAW,EAAE,EAHJ;AAITC,MAAAA,aAAa,EAAE,EAJN;AAKTC,MAAAA,YAAY,EAAE,EALL;AAMTC,MAAAA,UAAU,EAAE,EANH;AAOTC,MAAAA,WAAW,EAAE,EAPJ;AAQTC,MAAAA,SAAS,EAAE,KARF;AASTC,MAAAA,iBAAiB,EAAE,EATV;AAUTC,MAAAA,WAAW,EAAE,EAVJ;AAWTC,MAAAA,oBAAoB,EAAE,EAXb;AAYTC,MAAAA,mBAAmB,EAAE,EAZZ;AAaTC,MAAAA,gBAAgB,EAAE,EAbT;AAcTC,MAAAA,oBAAoB,EAAE,EAdb;AAeTC,MAAAA,gBAAgB,EAAE,EAfT;AAgBTC,MAAAA,uBAAuB,EAAE,EAhBhB;AAiBTC,MAAAA,aAAa,EAAE;AAjBN,KAAb;AAoBA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AAEH;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,KAAD,CAAO,IAAP;AACI,MAAA,IAAI,EAAE,KAAKpB,KAAL,CAAWQ,SADrB;AAEI,MAAA,aAAa,EAAC,QAFlB;AAGI,MAAA,kBAAkB,EAAE,IAHxB,CAIA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,KAAD,CAAO,GAAP;AAAW,MAAA,OAAO,EAAE,MAAM;AAEtB,aAAKa,QAAL,CAAc;AACVb,UAAAA,SAAS,EAAE;AADD,SAAd;AAMH,OARD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,CATJ,CANJ,CAFJ,eAsBI,oBAAC,MAAD,CAAQ,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE,CAAC;AAAEc,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,GAAG,EAAE;AAAtB,OAAD,EAAiE;AAAED,QAAAA,KAAK,EAAE;AAAT,OAAjE,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAGI;AAAK,MAAA,EAAE,EAAC,sBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGI,oBAAC,MAAD,CAAQ,OAAR;AAAgB,MAAA,SAAS,EAAC,eAA1B;AACI,MAAA,OAAO,EAAE,MAAM,KAAKJ,YAAL,CAAkB,KAAKM,SAAvB,EAAkC,aAAlC,CADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,CAHJ,eAWI;AAAK,MAAA,EAAE,EAAC,mBAAR;AAA4B,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,MAAD,CAAQ,aAAR;AAAsB,MAAA,SAAS,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAOI,oBAAC,IAAD,CAAM,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAPJ,eASI,oBAAC,IAAD,CAAM,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAiC,KAAKzB,KAAL,CAAWO,WAA5C,CATJ,eAUI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,eAWI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,eAcI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAC,qBAApB;AAA0C,MAAA,WAAW,EAAE,KAAvD;AAA8D,MAAA,SAAS,EAAC,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAE;AAAEmB,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,QAAQ,EAAE;AAA7B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD,CAAQ,aAAR;AAAsB,MAAA,SAAS,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,MAAM,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,MAAM,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,MAAM,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,eAII,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,MAAM,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,eAKI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAK3B,KAAL,CAAWE,IAAvB,CALJ,eAMI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAKF,KAAL,CAAWG,WAAvB,CANJ,eAOI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAKH,KAAL,CAAWI,aAAvB,CAPJ,eAQI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAKJ,KAAL,CAAWK,YAAvB,CARJ,CADJ,CADJ,CAdJ,eA8BI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA9BJ,CADJ,CAFJ,eAyCI,oBAAC,MAAD,CAAQ,aAAR;AAAsB,MAAA,SAAS,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,WAAD;AACI,MAAA,WAAW,EAAC,QADhB;AAEI,MAAA,OAAO,EAAE,CACL;AAAEuB,QAAAA,KAAK,EAAE,SAAT;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OADK,EAEL;AAAED,QAAAA,KAAK,EAAE,UAAT;AAAqBC,QAAAA,KAAK,EAAE;AAA5B,OAFK,CAFb;AAMI,MAAA,cAAc,EAAGC,IAAD,IAAUA,IAAI,CAACF,KANnC;AAOI,MAAA,aAAa,EAAGE,IAAD,IAAUA,IAAI,CAACD,KAPlC;AAQI,MAAA,qBAAqB,EAAGC,IAAD,IAAUA,IAAI,CAACD,KAR1C;AASI,MAAA,YAAY,EAAE,CAACC,IAAD,EAAOC,aAAP,KAAyB;AAEnC,aAAKV,QAAL,CAAc;AACVf,UAAAA,UAAU,EAAEyB;AADF,SAAd;AAGH,OAdL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAzCJ,eA8DI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9DJ,eAiEI,oBAAC,MAAD,CAAQ,OAAR;AACI,MAAA,OAAO,EAAE,MAAM,KAAKb,YAAL,CAAkB,KAAKM,SAAvB,EAAkC,mBAAlC,EAAuD,KAAKxB,KAAL,CAAWC,UAAlE,EAA8E,KAAKD,KAAL,CAAWE,IAAzF,EAA+F,KAAKF,KAAL,CAAWG,WAA1G,EAAuH,KAAKH,KAAL,CAAWK,YAAlI,EAAgJ,KAAKL,KAAL,CAAWI,aAA3J,CADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAjEJ,CAXJ,CAtBJ,CADJ;AA6GH;;AAGDoB,EAAAA,SAAS,CAACQ,QAAD,EAAW;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,QAAvC;AACH;;AAIDd,EAAAA,YAAY,CAACiB,QAAD,EAAWC,cAAX,EAAmCC,SAAnC,EAAuDnC,IAAvD,EAAsEC,WAAtE,EAA4FE,YAA5F,EAAmHD,aAAnH,EAA2IG,WAA3I,EAAiK;AAEzK,QAAI+B,aAAa,GAAG,EAApB;;AACA,QAAIF,cAAc,IAAI,aAAtB,EAAqC;AAEjCE,MAAAA,aAAa,GAAG,+FAAhB;AAEH,KAJD,MAKK;AAED,YAAMC,WAAW,GAAG;AAChB,eAAOF,SADS;AAEhB,gBAAQnC,IAFQ;AAGhB,uBAAeC,WAHC;AAIhB,wBAAgBE,YAJA;AAKhB,yBAAiBD,aALD;AAMhB,uBAAeG;AANC,OAApB;AASA,UAAIiC,MAAM,GAAGC,SAAS,CAACC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAAD,CAAtB;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYK,WAAZ;AAEAD,MAAAA,aAAa,GAAG,qFAAqFD,SAArF,GAAiG,kCAAjG,GAAsI,KAAKrC,KAAL,CAAWM,UAAjJ,GAA8J,kBAA9J,GAAmLkC,MAAnM,CAhBC,CAiBD;AACA;AACH;;AAID,UAAMI,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AAAA,UACIC,MAAM,GAAG,KADb;AAAA,UAEIvB,GAAG,GAAGe,aAFV,CA/ByK,CAkCzK;;AACAM,IAAAA,GAAG,CAACG,IAAJ,CAASD,MAAT,EAAiBvB,GAAjB,EAAsB,IAAtB,EAnCyK,CAqCzK;;AACAqB,IAAAA,GAAG,CAACI,kBAAJ,GAAyB,MAAM;AAE3B;AACA,UAAIJ,GAAG,CAACK,UAAJ,KAAmBJ,cAAc,CAACK,IAAtC,EAA4C;AAAE;AAAS,OAH5B,CAK3B;;;AACA,UAAIN,GAAG,CAACO,MAAJ,KAAe,GAAnB,EAAwB;AAGpBlB,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACQ,YAAhB;AACA,aAAK/B,QAAL,CAAc;AACVpB,UAAAA,UAAU,EAAEyC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BE,GAD/B;AAEVpD,UAAAA,IAAI,EAAEwC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BlD,IAFzB;AAGVC,UAAAA,WAAW,EAAEuC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BjD,WAHhC;AAIVE,UAAAA,YAAY,EAAEqC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6B/C,YAJjC;AAKVD,UAAAA,aAAa,EAAEsC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BhD,aALlC;AAMVK,UAAAA,iBAAiB,EAAEiC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6B3C,iBANtC;AAOVF,UAAAA,WAAW,EAAEmC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6B7C,WAPhC;AAQVG,UAAAA,WAAW,EAAEgC,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6B1C,WARhC;AAUVC,UAAAA,oBAAoB,EAAE+B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BzC,oBAVzC;AAWVC,UAAAA,mBAAmB,EAAE8B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BxC,mBAXxC;AAYVC,UAAAA,gBAAgB,EAAE6B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BvC,gBAZrC;AAaVC,UAAAA,oBAAoB,EAAE4B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BtC,oBAbzC;AAcVC,UAAAA,gBAAgB,EAAE2B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BrC,gBAdrC;AAeVC,UAAAA,uBAAuB,EAAE0B,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BpC,uBAf5C;AAgBVC,UAAAA,aAAa,EAAEyB,IAAI,CAACW,KAAL,CAAWT,GAAG,CAACQ,YAAf,EAA6BnC;AAhBlC,SAAd;AAoBA,YAAIsC,aAAa,GAAG,IAAIhE,OAAJ,CAAY,KAAKS,KAAL,CAAWC,UAAvB,EAAmC,KAAKD,KAAL,CAAWE,IAA9C,EAAoD,KAAKF,KAAL,CAAWG,WAA/D,EAA4E,KAAKH,KAAL,CAAWS,iBAAvF,EAA0G,KAAKT,KAAL,CAAWK,YAArH,EAAmI,KAAKL,KAAL,CAAWI,aAA9I,EAA6J,KAAKJ,KAAL,CAAWU,WAAxK,EAAqL,KAAKV,KAAL,CAAWY,mBAAhM,EAAqN,KAAKZ,KAAL,CAAWW,oBAAhO,EAAsP,KAAKX,KAAL,CAAWc,oBAAjQ,EAAuR,KAAKd,KAAL,CAAWa,gBAAlS,EAAoT,KAAKb,KAAL,CAAWe,gBAA/T,EAAiV,KAAKf,KAAL,CAAWgB,uBAA5V,EAAqX,KAAKhB,KAAL,CAAWiB,aAAhY,EAA+Y,KAAKjB,KAAL,CAAWO,WAA1Z,CAApB;;AACA,YAAI6B,cAAc,IAAI,aAAtB,EAAqC;AACjCoB,UAAAA,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA+CC,KAA/C,CAAqDjC,OAArD,GAA+D,OAA/D;AACA+B,UAAAA,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAkDC,KAAlD,CAAwDjC,OAAxD,GAAkE,MAAlE;AACA8B,UAAAA,aAAa,CAACI,aAAd,GAA8B,QAA9B;AACAlE,UAAAA,WAAW,CAACmE,MAAZ,CAA4B,kBAA5B,EAAgD,KAAK5D,KAAL,CAAWC,UAA3D,EAAuEsD,aAAvE,EAAsFM,IAAtF,CAEKC,EAAD,IAAQ;AACJ,gBAAIA,EAAE,CAACC,MAAP,EAAe;AACX9B,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,aAFD,MAEO;AACHD,cAAAA,OAAO,CAACC,GAAR,CAAY4B,EAAE,CAACE,QAAf;AACA/B,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAe4B,EAAE,CAACE,QAA9B;AACA/B,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB4B,EAAE,CAACG,SAA/B;AACH;AACJ,WAVL;AAcH;;AAED,YAAI7B,cAAc,IAAI,mBAAtB,EAA2C;AACvC,eAAKf,QAAL,CAAc;AACVb,YAAAA,SAAS,EAAE;AADD,WAAd;AAIAgD,UAAAA,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA+CC,KAA/C,CAAqDjC,OAArD,GAA+D,MAA/D;AACA+B,UAAAA,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAkDC,KAAlD,CAAwDjC,OAAxD,GAAkE,OAAlE;AAGA8B,UAAAA,aAAa,CAACI,aAAd,GAA8B,SAA9B;AACAlE,UAAAA,WAAW,CAACmE,MAAZ,CAA4B,kBAA5B,EAAgD,KAAK5D,KAAL,CAAWC,UAA3D,EAAuEsD,aAAvE,EAAsFM,IAAtF,CAEKC,EAAD,IAAQ;AACJ,gBAAIA,EAAE,CAACC,MAAP,EAAe;AACX9B,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH,aAFD,MAEO;AACHD,cAAAA,OAAO,CAACC,GAAR,CAAY4B,EAAE,CAACE,QAAf;AACA/B,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAe4B,EAAE,CAACE,QAA9B;AACA/B,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB4B,EAAE,CAACG,SAA/B;AACH;AACJ,WAVL;AAYH,SAnEmB,CAqEpB;;;AAEA,eAAO9B,QAAQ,CAACS,GAAG,CAACO,MAAL,CAAf;AACH,OA9E0B,CAgF3B;AACA;;;AACAP,MAAAA,GAAG,CAACG,IAAJ,CAASD,MAAT,EAAiBvB,GAAjB,EAAsB,IAAtB;AACAqB,MAAAA,GAAG,CAACsB,IAAJ;AACH,KApFD,CAtCyK,CA4HzK;;;AACAtB,IAAAA,GAAG,CAACsB,IAAJ;AACH;;AAhRqD;;AAqR1D,eAAetE,cAAf,C,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport {\n    Text,\n    Button,\n    Layout,\n    Breadcrumb,\n    BoxContainer,\n    InputSelect,\n    Modal\n} from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\n\nimport Booking from \"../models/booking\";\n\n\nimport { ModalContent } from \"../models/doc-elements\";\nimport BaseService from '../service/base.service';\n\n\ninterface Props {\n    onChange: (fieldName: string, value: string) => void;\n    onSave: () => void;\n}\n\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\n\ninterface MyState {\n    _bookingId: string,\n    nric: string,\n    citizenName: string,\n    citizenNumber: string,\n    citizenEmail: string,\n    inputValue: string,\n    queueNumber: string,\n    showModal: boolean,\n    citizenSalutation: string,\n    serviceName: string,\n    serviceProviderEmail: string,\n    serviceProviderName: string,\n    serviceStartDate: string,\n    serviceProviderPhone: string,\n    serviceStartTime: string,\n    serviceProviderLocation: string,\n    bookingStatus: string\n}\n\n\n\nclass ServiceCounter extends React.Component<{}, MyState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            _bookingId: \"\",\n            nric: \"\",\n            citizenName: \"\",\n            citizenNumber: \"\",\n            citizenEmail: \"\",\n            inputValue: \"\",\n            queueNumber: \"\",\n            showModal: false,\n            citizenSalutation: \"\",\n            serviceName: \"\",\n            serviceProviderEmail: \"\",\n            serviceProviderName: \"\",\n            serviceStartDate: \"\",\n            serviceProviderPhone: \"\",\n            serviceStartTime: \"\",\n            serviceProviderLocation: \"\",\n            bookingStatus: \"\"\n        };\n\n        this.consumeQueue = this.consumeQueue.bind(this)\n\n    }\n\n    render() {\n        return (\n            <StyledSection>\n\n                <Modal.Base\n                    show={this.state.showModal}\n                    animationFrom=\"bottom\"\n                    enableOverlayClick={true}\n                // onOverlayClick={closeModal()}\n                >\n                    <Modal.Box onClose={() => {\n\n                        this.setState({\n                            showModal: false\n                        });\n\n\n\n                    }}>\n                        <ModalContent>\n                            <span>Send to queue succesfully</span>\n                        </ModalContent>\n                    </Modal.Box>\n                </Modal.Base>\n                <Layout.Container>\n                    <Breadcrumb links={[{ title: 'Home', url: 'http://localhost:3000/ServiceCounter' }, { title: 'Service Counter' }]} />\n\n                    <div id='divButtonNextPatient'>\n\n\n                        <Button.Default className='buttonsuccess'\n                            onClick={() => this.consumeQueue(this.handle200, \"nextPatient\")}\n                        >Next Patient</Button.Default>\n\n                    </div>\n                    <div id='divCurrentCitizen' style={{ display: 'none' }}>\n\n                        <Layout.GridContainer className=\"column2\">\n                            <div>\n\n\n\n\n                                <div className='spacer1'></div>\n\n                                <Text.H3>Currently Serving</Text.H3>\n\n                                <Text.H5>Current Queue Number : {this.state.queueNumber}</Text.H5>\n                                <div className='spacer1'></div>\n                                <div className='spacer1'></div>\n\n\n                                <BoxContainer title=\"Citizen Information\" collapsible={false} className=\"textleft\" >\n                                    <div style={{ padding: \"2rem\", minWidth: \"1080px\" }}>\n                                        <Layout.GridContainer className=\"column4\">\n                                            <Text.Body weight=\"semibold\">NRIC</Text.Body>\n                                            <Text.Body weight=\"semibold\">Name</Text.Body>\n                                            <Text.Body weight=\"semibold\">Phone Number</Text.Body>\n                                            <Text.Body weight=\"semibold\">Email</Text.Body>\n                                            <Text.Body>{this.state.nric}</Text.Body>\n                                            <Text.Body>{this.state.citizenName}</Text.Body>\n                                            <Text.Body>{this.state.citizenNumber}</Text.Body>\n                                            <Text.Body>{this.state.citizenEmail}</Text.Body>\n                                        </Layout.GridContainer>\n                                    </div>\n                                </BoxContainer>\n\n\n                                <Text.Body>Next service: </Text.Body>\n\n\n                            </div>\n\n                        </Layout.GridContainer>\n\n\n                        <Layout.GridContainer className=\"column4\">\n\n                            <InputSelect\n                                placeholder=\"Select\"\n                                options={[\n                                    { value: \"payment\", label: \"Payment\" },\n                                    { value: \"pharmacy\", label: \"Pharmacy\" }\n                                ]}\n                                valueExtractor={(item) => item.value}\n                                listExtractor={(item) => item.label}\n                                displayValueExtractor={(item) => item.label}\n                                onSelectItem={(item, selectedValue) => {\n\n                                    this.setState({\n                                        inputValue: selectedValue\n                                    })\n                                }}\n                            />\n                        </Layout.GridContainer>\n\n\n                        <div className='spacer1'></div>\n\n\n                        <Button.Default\n                            onClick={() => this.consumeQueue(this.handle200, \"sendtoNextService\", this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenEmail, this.state.citizenNumber)}\n\n                        >Send to next service</Button.Default>\n\n                    </div>\n\n                </Layout.Container>\n            </StyledSection>\n        )\n    }\n\n\n    handle200(response) {\n        console.log('handle200 has received:', response);\n    }\n\n\n\n    consumeQueue(callback, buttonSelected: string, bookingId?: string, nric?: string, citizenName?: string, citizenEmail?: string, citizenNumber?: string, queueNumber?: string) {\n\n        var respectiveURL = \"\"\n        if (buttonSelected == \"nextPatient\") {\n\n            respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=doctorQueue\"\n\n        }\n        else {\n\n            const queueObject = {\n                \"_id\": bookingId,\n                \"nric\": nric,\n                \"citizenName\": citizenName,\n                \"citizenEmail\": citizenEmail,\n                \"citizenNumber\": citizenNumber,\n                \"queueNumber\": queueNumber,\n            }\n\n            var myJSON = encodeURI(JSON.stringify(queueObject));\n\n            console.log(\"---------------\")\n            console.log(queueObject)\n\n            respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/sender?bookingID=\" + bookingId + \"&exchangeID=hospital&bindingKey=\" + this.state.inputValue + \"&bookingDetails=\" + myJSON;\n            // respectiveURL = \"https://hyxfimzf9g.execute-api.us-east-1.amazonaws.com/default/receiver?queueName=\" + this.state.inputValue\n            // console.log(respectiveURL + \"--------------\")\n        }\n\n\n\n        const xhr = new XMLHttpRequest(),\n            method = \"GET\",\n            url = respectiveURL;\n        // initialize a new GET request\n        xhr.open(method, url, true);\n\n        // respond to every readyState change\n        xhr.onreadystatechange = () => {\n\n            // ignore all readyStates other than \"DONE\"\n            if (xhr.readyState !== XMLHttpRequest.DONE) { return; }\n\n            // call the callback with status\n            if (xhr.status === 200) {\n\n\n                console.log(xhr.responseText)\n                this.setState({\n                    _bookingId: JSON.parse(xhr.responseText)._id,\n                    nric: JSON.parse(xhr.responseText).nric,\n                    citizenName: JSON.parse(xhr.responseText).citizenName,\n                    citizenEmail: JSON.parse(xhr.responseText).citizenEmail,\n                    citizenNumber: JSON.parse(xhr.responseText).citizenNumber,\n                    citizenSalutation: JSON.parse(xhr.responseText).citizenSalutation,\n                    queueNumber: JSON.parse(xhr.responseText).queueNumber,\n                    serviceName: JSON.parse(xhr.responseText).serviceName,\n\n                    serviceProviderEmail: JSON.parse(xhr.responseText).serviceProviderEmail,\n                    serviceProviderName: JSON.parse(xhr.responseText).serviceProviderName,\n                    serviceStartDate: JSON.parse(xhr.responseText).serviceStartDate,\n                    serviceProviderPhone: JSON.parse(xhr.responseText).serviceProviderPhone,\n                    serviceStartTime: JSON.parse(xhr.responseText).serviceStartTime,\n                    serviceProviderLocation: JSON.parse(xhr.responseText).serviceProviderLocation,\n                    bookingStatus: JSON.parse(xhr.responseText).bookingStatus,\n                })\n\n\n                var calledBooking = new Booking(this.state._bookingId, this.state.nric, this.state.citizenName, this.state.citizenSalutation, this.state.citizenEmail, this.state.citizenNumber, this.state.serviceName, this.state.serviceProviderName, this.state.serviceProviderEmail, this.state.serviceProviderPhone, this.state.serviceStartDate, this.state.serviceStartTime, this.state.serviceProviderLocation, this.state.bookingStatus, this.state.queueNumber);\n                if (buttonSelected == \"nextPatient\") {\n                    document.getElementById(\"divCurrentCitizen\")!!.style.display = \"block\";\n                    document.getElementById(\"divButtonNextPatient\")!!.style.display = \"none\";\n                    calledBooking.BookingStatus = \"Doctor\"\n                    BaseService.update<Booking>(\"/booking/update/\", this.state._bookingId, calledBooking).then(\n\n                        (rp) => {\n                            if (rp.Status) {\n                                console.log('Booking saved.');\n                            } else {\n                                console.log(rp.Messages);\n                                console.log(\"Messages: \" + rp.Messages);\n                                console.log(\"Exception: \" + rp.Exception);\n                            }\n                        }\n                    );\n\n\n                }\n\n                if (buttonSelected == \"sendtoNextService\") {\n                    this.setState({\n                        showModal: true\n                    });\n\n                    document.getElementById(\"divCurrentCitizen\")!!.style.display = \"none\";\n                    document.getElementById(\"divButtonNextPatient\")!!.style.display = \"block\";\n\n\n                    calledBooking.BookingStatus = \"Payment\"\n                    BaseService.update<Booking>(\"/booking/update/\", this.state._bookingId, calledBooking).then(\n\n                        (rp) => {\n                            if (rp.Status) {\n                                console.log('Booking saved.');\n                            } else {\n                                console.log(rp.Messages);\n                                console.log(\"Messages: \" + rp.Messages);\n                                console.log(\"Exception: \" + rp.Exception);\n                            }\n                        }\n                    );\n                }\n\n                // console.log(JSON.parse(xhr.responseText));\n\n                return callback(xhr.status);\n            }\n\n            // got something other than 200,\n            // re-initialize and send another GET request\n            xhr.open(method, url, true);\n            xhr.send();\n        }\n\n        // send the initial GET request\n        xhr.send();\n    }\n\n\n}\n\nexport default ServiceCounter;\n\n\n\n\n\n\n\n\n\n// function foundResult(_id: any, nric: any, citizenNumber: any, citizenEmail: any, citizenName: any)  {\n//      queueObject = {\n//         \"_id\" :_id,\n//         \"nric\":nric,\n//         \"citizenName\":citizenName,\n//         \"citizenEmail\":citizenEmail,\n//         \"citizenNumber\":citizenNumber\n//     }\n\n//     console.log(queueObject)\n// }\n\n"]},"metadata":{},"sourceType":"module"}