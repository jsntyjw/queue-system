{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\junjie\\\\Documents\\\\GitHub\\\\queue-system\\\\frontend\\\\src\\\\components\\\\ViewAllBookings.tsx\";\nimport React from 'react';\nimport '../App.css';\nimport { Text, Layout, Accordion } from 'react-lifesg-design-system';\nimport styled from \"styled-components\";\nimport Booking from \"../models/booking\";\nconst StyledContainer = styled(Layout.GridContainer)`\n    grid-template-rows: 1fr;\n    grid-template-columns: 12fr;\n    grid-template-areas:\n        \"title\"\n        \"button \"\n        \"queue\";\n    grid-gap: 0.25rem;\n    grid-row-gap: 16px;\n`;\nconst StyledSection = styled(Layout.Section)`\n    margin-top: 8%;\n    min-height: 600px;\n`;\nconst Main = styled.main`\n  color: white;\n  grid-area: queue;\n  padding: 0.25rem;\n`;\nvar sessionResult = sessionStorage.getItem('data') || '{}';\nvar obj = JSON.parse(sessionResult);\nconsole.log(sessionResult);\nvar nric = obj.userName;\n\nclass ViewAllBookings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: []\n    }; // this.searchByLocation = this.searchByLocation.bind(this)\n  }\n\n  async searchByLocation() {\n    console.log(\"test!\");\n    var apiURL;\n    apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/' + nric; // document.getElementById(\"divAppointments\")!!.style.display = \"block\";\n\n    fetch(apiURL).then(function (response) {\n      return response.json();\n    }).then(myJson => {\n      this.state.bookings.length = 0;\n      myJson.data.forEach(element => {\n        var eachBooking = new Booking(element[\"_id\"], element[\"nric\"], element[\"citizenName\"], element[\"citizenSalutation\"], element[\"citizenEmail\"], element[\"citizenNumber\"], element[\"serviceName\"], element[\"serviceProviderName\"], element[\"serviceProviderEmail\"], element[\"serviceProviderPhone\"], element[\"serviceStartDate\"], element[\"serviceStartTime\"], element[\"serviceProviderLocation\"], element[\"bookingStatus\"]); // const bookings = this.state.bookings.slice(0);\n\n        this.state.bookings.push(eachBooking); // console.log(bookings)\n\n        this.setState({\n          bookings: this.state.bookings\n        });\n        console.log(this.state.bookings);\n      });\n    });\n  }\n\n  componentWillMount() {\n    this.searchByLocation();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Text.H3, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, \"Appointments\"), /*#__PURE__*/React.createElement(Text.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, \"Government services appointments\"), /*#__PURE__*/React.createElement(Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Base, {\n      className: \"base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, this.state.bookings.map((input, index) => {\n      console.log(this.state.bookings);\n      return /*#__PURE__*/React.createElement(Accordion.Item, {\n        title: input.ServiceName,\n        key: index,\n        expanded: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Text.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }\n      }, \"Citizen Name :\"), \"  \", input.CitizenName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }, \"Citizen Number: \"), \" \", input.CitizenNumber), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, \"Citizen Email: \"), \" \", input.CitizenEmail), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }, \"Service start date:\"), \"  \", input.ServiceStartDate), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, \"Service start time:\"), \"  \", input.ServiceStartTime), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }, \"Service Name:\"), \"  \", input.ServiceName), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, \"Service Provider Location:\"), \"  \", input.ServiceProviderLocation))));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spacer3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default ViewAllBookings;","map":{"version":3,"sources":["C:/Users/junjie/Documents/GitHub/queue-system/frontend/src/components/ViewAllBookings.tsx"],"names":["React","Text","Layout","Accordion","styled","Booking","StyledContainer","GridContainer","StyledSection","Section","Main","main","sessionResult","sessionStorage","getItem","obj","JSON","parse","console","log","nric","userName","ViewAllBookings","Component","constructor","props","state","bookings","searchByLocation","apiURL","process","env","REACT_APP_MY_EC2_API_ADDRESS","fetch","then","response","json","myJson","length","data","forEach","element","eachBooking","push","setState","componentWillMount","render","map","input","index","ServiceName","CitizenName","CitizenNumber","CitizenEmail","ServiceStartDate","ServiceStartTime","ServiceProviderLocation"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport '../App.css';\r\nimport { Text, Button, Layout, BoxContainer, Breadcrumb, InputGroup, Accordion, InputSelect, Modal, RadioButton, } from 'react-lifesg-design-system';\r\nimport styled from \"styled-components\";\r\nimport Booking from \"../models/booking\";\r\n\r\n\r\n\r\nconst StyledContainer = styled(Layout.GridContainer)`\r\n    grid-template-rows: 1fr;\r\n    grid-template-columns: 12fr;\r\n    grid-template-areas:\r\n        \"title\"\r\n        \"button \"\r\n        \"queue\";\r\n    grid-gap: 0.25rem;\r\n    grid-row-gap: 16px;\r\n`;\r\n\r\nconst StyledSection = styled(Layout.Section)`\r\n    margin-top: 8%;\r\n    min-height: 600px;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  color: white;\r\n  grid-area: queue;\r\n  padding: 0.25rem;\r\n`;\r\n\r\ninterface MyState {\r\n  bookings: Booking[]\r\n}\r\n\r\n\r\nvar sessionResult = sessionStorage.getItem('data') || '{}'\r\nvar obj = JSON.parse(sessionResult);\r\nconsole.log(sessionResult)\r\n\r\nvar nric = obj.userName\r\n\r\nclass ViewAllBookings extends React.Component<{}, MyState> {\r\n\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bookings: []\r\n\r\n\r\n    };\r\n    // this.searchByLocation = this.searchByLocation.bind(this)\r\n  }\r\n\r\n  public async searchByLocation() {\r\n    console.log(\"test!\")\r\n    var apiURL: string\r\n\r\n    apiURL = process.env.REACT_APP_MY_EC2_API_ADDRESS + 'api/booking/citizen/' +  nric;\r\n    // document.getElementById(\"divAppointments\")!!.style.display = \"block\";\r\n\r\n\r\n    fetch(apiURL)\r\n      .then(function (response) {\r\n\r\n        return response.json();\r\n      })\r\n      .then((myJson) => {\r\n        this.state.bookings.length = 0;\r\n        myJson.data.forEach(element => {\r\n          var eachBooking = new Booking(\r\n            element[\"_id\"],\r\n            element[\"nric\"],\r\n            element[\"citizenName\"],\r\n            element[\"citizenSalutation\"],\r\n            element[\"citizenEmail\"],\r\n            element[\"citizenNumber\"],\r\n            element[\"serviceName\"],\r\n            element[\"serviceProviderName\"],\r\n            element[\"serviceProviderEmail\"],\r\n            element[\"serviceProviderPhone\"],\r\n            element[\"serviceStartDate\"],\r\n            element[\"serviceStartTime\"],\r\n            element[\"serviceProviderLocation\"],\r\n            element[\"bookingStatus\"]\r\n          );\r\n\r\n\r\n          // const bookings = this.state.bookings.slice(0);\r\n          this.state.bookings.push(eachBooking)\r\n          // console.log(bookings)\r\n          this.setState({\r\n            bookings: this.state.bookings,\r\n          });\r\n          console.log(this.state.bookings)\r\n\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.searchByLocation();\r\n\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n    <div >\r\n\r\n\r\n      {/* <StyledContainer> */}\r\n        <br /><br /><br /><br />\r\n        <Text.H3>Appointments</Text.H3>\r\n        <Text.Body>Government services appointments</Text.Body>\r\n        <Main>\r\n\r\n\r\n\r\n\r\n          <Accordion.Base className='base' >\r\n            {this.state.bookings.map((input, index) => {\r\n\r\n              console.log(this.state.bookings)\r\n              return (\r\n                <Accordion.Item title={input.ServiceName} key={index} expanded={false}>\r\n                  <Text.Body>\r\n                    <ul>\r\n                      <li>\r\n                        <b>Citizen Name :</b>  {input.CitizenName}\r\n                      </li>\r\n                      <li>\r\n                        <b>Citizen Number: </b> {input.CitizenNumber}\r\n                      </li>\r\n                      <li>\r\n                        <b>Citizen Email: </b> {input.CitizenEmail}\r\n                      </li>\r\n                      <li>\r\n                        <b>Service start date:</b>  {input.ServiceStartDate}\r\n                      </li>\r\n                      <li>\r\n                        <b>Service start time:</b>  {input.ServiceStartTime}\r\n                      </li>\r\n                      <li>\r\n                        <b>Service Name:</b>  {input.ServiceName}\r\n                      </li>\r\n                      <li>\r\n                        <b>Service Provider Location:</b>  {input.ServiceProviderLocation}\r\n                      </li>\r\n                    </ul>\r\n\r\n                    {/* <Button.Default\r\n                                      onClick={() => this.checkPage(this.handle200, input.Id!!, input.Nric, input.CitizenName, input.CitizenEmail, input.CitizenNumber)}\r\n                                  >Send to Queue</Button.Default> */}\r\n                  </Text.Body>\r\n                </Accordion.Item>\r\n              )\r\n            })}\r\n          </Accordion.Base>\r\n\r\n        </Main>\r\n        <div className=\"spacer3\"></div>\r\n      {/* </StyledContainer> */}\r\n\r\n    </div>\r\n\r\n    )\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default ViewAllBookings;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}